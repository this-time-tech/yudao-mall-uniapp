import{b as t,c as e,d as s,e as a}from"./s-layout.B9Wf0wyf.js";import{P as o,r as l,e as i,j as d,f as r,w as n,Q as u,g as c,k as p,y as g,x as y,p as f,t as m,C as b,i as h,u as _,s as x,q as k,v,c as C,l as w,F as S,m as R,R as $,T,I as B,U as L,V as I,A as j,W as z,X as F,Y as O,Z as P,_ as W,a0 as M,D as N,S as D,a1 as U,a2 as E,M as G,z as A,a3 as H,a4 as q,a5 as Z,a6 as V,a7 as J,a8 as Q}from"./index-BYbmVHYF.js";import{_ as X}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as Y,a as K}from"./uni-list.huwf7a3Q.js";import{_ as tt}from"./su-image.n6Vf7wmt.js";import{_ as et,a as st}from"./su-swiper.D_u09TM1.js";import{_ as at}from"./s-goods-column.BMPRB1aK.js";import{S as ot}from"./spu.DkDzSSyF.js";import{a as lt,f as it}from"./useGoods.BAFIflfD.js";import{C as dt}from"./combination.xWWPgO_7.js";import{S as rt}from"./seckill.DviVaf9U.js";import{P as nt}from"./point.DbuDTo33.js";import{f as ut,a as ct}from"./index.DEmjmW11.js";import{_ as pt}from"./mp-html.Mojn4hmC.js";import{A as gt}from"./article.CQoR_kRZ.js";const yt=X({name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:""},speed:{type:Number,default:100},color:{type:String,default:"var(--ui-BG-Main)"},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:()=>({textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,elIdBox:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}),mounted(){this.$nextTick((()=>{this.initSize()}))},methods:{initSize(){if(this.scrollable){let t=[],e=new Promise(((t,e)=>{o().in(this).select(`#${this.elId}`).boundingClientRect().exec((e=>{this.textWidth=e[0].width,t()}))})),s=new Promise(((t,e)=>{o().in(this).select(`#${this.elIdBox}`).boundingClientRect().exec((e=>{this.boxWidth=e[0].width,t()}))}));t.push(e),t.push(s),Promise.all(t).then((()=>{this.animationDuration=this.textWidth/this.speed+"s",this.animationDelay=`-${this.boxWidth/this.speed}s`,setTimeout((()=>{this.animationPlayState="running"}),1e3)}))}},loopAnimation(){},clickMore(){this.$emit("getmore")},close(){this.show=!1,this.$emit("close")},onClick(){this.$emit("click")}}},[["render",function(e,s,a,o,_,x){const k=l(i("uni-icons"),t),v=b,C=h;return _.show?(d(),r(C,{key:0,class:"uni-noticebar",style:y({backgroundColor:a.backgroundColor}),onClick:x.onClick},{default:n((()=>[u(e.$slots,"icon",{},(()=>[!0===a.showIcon||"true"===a.showIcon?(d(),r(k,{key:0,class:"uni-noticebar-icon",type:"sound",color:a.color,size:"22"},null,8,["color"])):c("",!0)]),!0),p(C,{ref:"textBox",class:g(["uni-noticebar__content-wrapper",{"uni-noticebar__content-wrapper--scrollable":a.scrollable,"uni-noticebar__content-wrapper--single":!a.scrollable&&(a.single||a.moreText)}])},{default:n((()=>[p(C,{id:_.elIdBox,class:g(["uni-noticebar__content",{"uni-noticebar__content--scrollable":a.scrollable,"uni-noticebar__content--single":!a.scrollable&&(a.single||a.moreText)}])},{default:n((()=>[p(v,{id:_.elId,ref:"animationEle",class:g(["uni-noticebar__content-text",{"uni-noticebar__content-text--scrollable":a.scrollable,"uni-noticebar__content-text--single":!a.scrollable&&(a.single||a.showGetMore)}]),style:y({color:a.color,width:_.wrapWidth+"px",animationDuration:_.animationDuration,"-webkit-animationDuration":_.animationDuration,animationPlayState:_.webviewHide?"paused":_.animationPlayState,"-webkit-animationPlayState":_.webviewHide?"paused":_.animationPlayState,animationDelay:_.animationDelay,"-webkit-animationDelay":_.animationDelay})},{default:n((()=>[f(m(a.text),1)])),_:1},8,["id","class","style"])])),_:1},8,["id","class"])])),_:1},8,["class"]),!0===a.showGetMore||"true"===a.showGetMore?(d(),r(C,{key:0,class:"uni-noticebar__more uni-cursor-point",onClick:x.clickMore},{default:n((()=>[a.moreText.length>0?(d(),r(v,{key:0,style:y({color:a.moreColor}),class:"uni-noticebar__more-text"},{default:n((()=>[f(m(a.moreText),1)])),_:1},8,["style"])):(d(),r(k,{key:1,type:"right",color:a.moreColor,size:"16"},null,8,["color"]))])),_:1},8,["onClick"])):c("",!0),!0!==a.showClose&&"true"!==a.showClose||!1!==a.showGetMore&&"false"!==a.showGetMore?c("",!0):(d(),r(C,{key:1,class:"uni-noticebar-close uni-cursor-point"},{default:n((()=>[p(C,{onClick:x.close},{default:n((()=>[u(e.$slots,"close",{},(()=>[p(k,{type:"closeempty",color:a.color,size:"16"},null,8,["color"])]),!0)])),_:3},8,["onClick"])])),_:3}))])),_:3},8,["style","onClick"])):c("",!0)}],["__scopeId","data-v-dc8f5974"]]),ft=X({__name:"s-notice-block",props:{data:{type:Object,default(){}}},setup:t=>(e,s)=>{const a=k,o=l(i("su-notice-bar"),yt),u=h;return d(),r(u,{class:"ss-flex ss-col-center notice-wrap"},{default:n((()=>[p(a,{class:"icon-img",src:_(x).$url.cdn(t.data.iconUrl),mode:"heightFix"},null,8,["src"]),p(o,{style:{flex:"1"},showIcon:!1,scrollable:"",single:"",text:t.data.contents[0].text,speed:50,color:t.data.textColor,onClick:s[0]||(s[0]=e=>_(x).$router.go(t.data.contents[0].url))},null,8,["text","color"])])),_:1})}},[["__scopeId","data-v-f049fa3f"]]),mt=X({__name:"s-menu-button",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},circular:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},interval:{type:Number,default:5e3},duration:{type:Number,default:500},ui:{type:String,default:""},mode:{type:String,default:"default"},dotStyle:{type:String,default:"long"},dotCur:{type:String,default:"ui-BG-Main"},height:{type:Number,default:300},hasBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"red"},background:{type:String,default:"blue"},hoverClass:{type:String,default:"ss-hover-class"},col:{type:[Number,String],default:3},iconSize:{type:Number,default:80},color:{type:String,default:"#000"}},setup(t){const e=v({cur:0}),s=t,a=C((()=>{const{bgType:t,bgImg:e,bgColor:a}=s.styles;return{background:"img"===t?`url(${e}) no-repeat top center / 100% 100%`:a}})),o=C((()=>u(s.data.list,s.data.row*s.data.column))),l=C((()=>s.data.row*("iconText"===s.data.layout?200:180)));x.$platform.device.windowWidth;const i=t=>{e.cur=t.detail.current},u=(t=[],e=1)=>{let s=[],a=[];return t.forEach((t=>{a.length===e&&(a=[]),0===a.length&&s.push(a),a.push(t)})),s};return(u,b)=>{const v=h,C=k,B=$,L=T;return d(),r(v,{class:g(["ui-swiper",[s.mode,s.ui]]),style:y([a.value,{height:l.value+(o.value.length>1?50:0)+"rpx"}])},{default:n((()=>[p(L,{circular:s.circular,current:e.cur,autoplay:s.autoplay,interval:s.interval,duration:s.duration,style:y([{height:l.value+"rpx"}]),onChange:i},{default:n((()=>[(d(!0),w(S,null,R(o.value,((a,o)=>(d(),r(B,{key:o,class:g({cur:e.cur==o})},{default:n((()=>[p(v,{class:"grid-wrap"},{default:n((()=>[(d(!0),w(S,null,R(a,((e,a)=>(d(),r(v,{key:a,class:"grid-item ss-flex ss-flex-col ss-col-center ss-row-center",style:y([{width:1/t.data.column*100+"%",height:"200rpx"}]),"hover-class":"ss-hover-btn",onClick:t=>_(x).$router.go(e.url)},{default:n((()=>[p(v,{class:"menu-box ss-flex ss-flex-col ss-col-center ss-row-center"},{default:n((()=>[e.badge.show?(d(),r(v,{key:0,class:"tag-box",style:y([{background:e.badge.bgColor,color:e.badge.textColor}])},{default:n((()=>[f(m(e.badge.text),1)])),_:2},1032,["style"])):c("",!0),e.iconUrl?(d(),r(C,{key:1,class:"menu-icon",style:y([{width:s.iconSize+"rpx",height:s.iconSize+"rpx"}]),src:_(x).$url.cdn(e.iconUrl),mode:"aspectFill"},null,8,["style","src"])):c("",!0),"iconText"===t.data.layout?(d(),r(v,{key:2,class:"menu-title",style:y([{color:e.titleColor}])},{default:n((()=>[f(m(e.title),1)])),_:2},1032,["style"])):c("",!0)])),_:2},1024)])),_:2},1032,["style","onClick"])))),128))])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1},8,["circular","current","autoplay","interval","duration","style"]),o.value.length>1?(d(),w(S,{key:0},["tag"!=s.dotStyle?(d(),r(v,{key:0,class:g(["ui-swiper-dot",s.dotStyle])},{default:n((()=>[(d(!0),w(S,null,R(o.value.length,((t,a)=>(d(),r(v,{class:g(["line-box",[e.cur==a?"cur":"",s.dotCur]]),key:a},null,8,["class"])))),128))])),_:1},8,["class"])):c("",!0),"tag"==s.dotStyle?(d(),r(v,{key:1,class:g(["ui-swiper-dot",s.dotStyle])},{default:n((()=>[p(v,{class:g(["ui-tag radius",[s.dotCur]]),style:{"pointer-events":"none"}},{default:n((()=>[p(v,{style:{transform:"scale(0.7)"}},{default:n((()=>[f(m(e.cur+1)+" / "+m(o.value.length),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])):c("",!0)],64)):c("",!0)])),_:1},8,["class","style"])}}},[["__scopeId","data-v-9f5543a4"]]),bt=X({__name:"s-menu-list",props:{data:{type:Object,default:()=>({})}},setup:t=>(e,s)=>{const a=k,o=h,u=l(i("uni-list-item"),Y),g=l(i("uni-list"),K);return d(),r(o,{class:"menu-list-wrap"},{default:n((()=>[p(g,{border:!0},{default:n((()=>[(d(!0),w(S,null,R(t.data.list,((t,e)=>(d(),r(u,{key:e,showArrow:"",clickable:"",onClick:e=>_(x).$router.go(t.url)},{header:n((()=>[p(o,{class:"ss-flex ss-col-center"},{default:n((()=>[t.iconUrl?(d(),r(a,{key:0,class:"list-icon",src:_(x).$url.cdn(t.iconUrl),mode:"aspectFit"},null,8,["src"])):c("",!0),p(o,{class:"title-text ss-flex ss-row-center ss-col-center ss-m-l-20",style:y([{color:t.titleColor}])},{default:n((()=>[f(m(t.title),1)])),_:2},1032,["style"])])),_:2},1024)])),footer:n((()=>[p(o,{class:"notice-text ss-flex ss-row-center ss-col-center",style:y([{color:t.subtitleColor}])},{default:n((()=>[f(m(t.subtitle),1)])),_:2},1032,["style"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}},[["__scopeId","data-v-af9bf3a7"]]);const ht=X({name:"UniGridItem",inject:["grid"],props:{index:{type:Number,default:0}},data:()=>({column:0,showBorder:!0,square:!0,highlight:!0,left:0,top:0,openNum:2,width:0,borderColor:"#e5e5e5"}),created(){this.column=this.grid.column,this.showBorder=this.grid.showBorder,this.square=this.grid.square,this.highlight=this.grid.highlight,this.top=0===this.hor?this.grid.hor:this.hor,this.left=0===this.ver?this.grid.ver:this.ver,this.borderColor=this.grid.borderColor,this.grid.children.push(this),this.width=this.grid.width},beforeDestroy(){this.grid.children.forEach(((t,e)=>{t===this&&this.grid.children.splice(e,1)}))},methods:{_onClick(){this.grid.change({detail:{index:this.index}})}}},[["render",function(t,e,s,a,o,l){const i=h;return d(),r(i,{style:y("width:"+o.width+";"+(o.square?"height:"+o.width:"")),class:"uni-grid-item grid-item"},{default:n((()=>[p(i,{class:g([{"uni-grid-item--border":o.showBorder,"uni-grid-item--border-top":o.showBorder&&s.index<o.column,"uni-highlight":o.highlight},"uni-grid-item__box"]),style:y({"border-right-color":o.borderColor,"border-bottom-color":o.borderColor,"border-top-color":o.borderColor}),onClick:l._onClick},{default:n((()=>[u(t.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onClick"])])),_:3},8,["style"])}],["__scopeId","data-v-3055060c"]]);const _t=X({name:"UniGrid",emits:["change"],props:{column:{type:Number,default:3},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"#D2D2D2"},square:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0}},provide(){return{grid:this}},data:()=>({elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,width:0}),created(){this.children=[]},mounted(){this.$nextTick((()=>{this.init()}))},methods:{init(){setTimeout((()=>{this._getSize((t=>{this.children.forEach(((e,s)=>{e.width=t}))}))}),50)},change(t){this.$emit("change",t)},_getSize(t){o().in(this).select(`#${this.elId}`).boundingClientRect().exec((e=>{this.width=parseInt((e[0].width-1)/this.column)+"px",t(this.width)}))}}},[["render",function(t,e,s,a,o,l){const i=h;return d(),r(i,{class:"uni-grid-wrap"},{default:n((()=>[p(i,{id:o.elId,ref:"uni-grid",class:g(["uni-grid",{"uni-grid--border":s.showBorder}]),style:y({"border-left-color":s.borderColor})},{default:n((()=>[u(t.$slots,"default",{},void 0,!0)])),_:3},8,["id","class","style"])])),_:3})}],["__scopeId","data-v-257e8068"]]),xt=X({__name:"s-menu-grid",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,s=C((()=>{const{bgType:t,bgImg:s,bgColor:a}=e.styles;return{background:"img"===t?`url(${s}) no-repeat top center / 100% 100%`:a}}));return(e,a)=>{const o=h,u=k,g=l(i("uni-grid-item"),ht),b=l(i("uni-grid"),_t);return d(),r(o,{style:y([s.value,{marginLeft:`${t.data.space}px`}])},{default:n((()=>[p(b,{showBorder:Boolean(t.data.border),column:t.data.column},{default:n((()=>[(d(!0),w(S,null,R(t.data.list,((t,e)=>(d(),r(g,{key:e,onClick:e=>_(x).$router.go(t.url)},{default:n((()=>[p(o,{class:"grid-item-box ss-flex ss-flex-col ss-row-center ss-col-center"},{default:n((()=>[p(o,{class:"img-box"},{default:n((()=>[t.badge.show?(d(),r(o,{key:0,class:"tag-box",style:y([{background:t.badge.bgColor,color:t.badge.textColor}])},{default:n((()=>[f(m(t.badge.text),1)])),_:2},1032,["style"])):c("",!0),p(u,{class:"menu-image",src:_(x).$url.cdn(t.iconUrl)},null,8,["src"])])),_:2},1024),p(o,{class:"title-box ss-flex ss-flex-col ss-row-center ss-col-center"},{default:n((()=>[p(o,{class:"grid-text",style:y([{color:t.titleColor}])},{default:n((()=>[f(m(t.title),1)])),_:2},1032,["style"]),p(o,{class:"grid-tip",style:y([{color:t.subtitleColor}])},{default:n((()=>[f(m(t.subtitle),1)])),_:2},1032,["style"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["showBorder","column"])])),_:1},8,["style"])}}},[["__scopeId","data-v-87781ccd"]]),kt=X({__name:"s-popup-image",props:{data:{type:Object,default(){}}},setup(t){const s=t,a=JSON.parse(B("modal-store")||"{}");console.log(a);const o=a.advHistory||[],u=L(0),g=C((()=>{const t=s.data.list||[],e=[];return t.length>0&&t.forEach((t=>{"once"===t.showType&&o.includes(t.imgUrl)?t.isShow=!1:(t.isShow=!0,e.push(t)),I(t)})),e}));return(t,s)=>{const a=k,o=h,y=l(i("su-popup"),e);return d(),r(o,null,{default:n((()=>[(d(!0),w(S,null,R(g.value,((t,e)=>(d(),r(o,{key:e},{default:n((()=>[e===u.value?(d(),r(y,{key:0,show:t.isShow,type:"center",backgroundColor:"none",round:"0",showClose:!0,isMaskClick:!1,onClose:t=>function(t){u.value=t+1,g.value[t].isShow=!1}(e)},{default:n((()=>[p(o,{class:"img-box"},{default:n((()=>[p(a,{class:"modal-img",src:_(x).$url.cdn(t.imgUrl),mode:"widthFix",onClick:j((e=>{return s=t.url,void x.$router.go(s);var s}),["stop"])},null,8,["src","onClick"])])),_:2},1024)])),_:2},1032,["show","onClose"])):c("",!0)])),_:2},1024)))),128))])),_:1})}}},[["__scopeId","data-v-e1c1d1c2"]]);x.$platform.device;const vt=X({name:"UniFab",emits:["fabClick","trigger"],props:{pattern:{type:Array,default:()=>[]},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0}},data:()=>({fabShow:!1,isShow:!1,isAndroidNvue:!1,styles:[{}]}),computed:{contentWidth(t){return 130*(this.content.length+1)+"rpx"},contentWidthMin:()=>"100rpx",boxWidth(){return this.getPosition(3,"horizontal")},boxHeight(){return this.getPosition(3,"vertical")},leftBottom(){return this.getPosition(0,"left","bottom")},rightBottom(){return this.getPosition(0,"right","bottom")},leftTop(){return this.getPosition(0,"left","top")},rightTop(){return this.getPosition(0,"right","top")},flexDirectionStart(){return this.getPosition(1,"vertical","top")},flexDirectionEnd(){return this.getPosition(1,"vertical","bottom")},horizontalLeft(){return this.getPosition(2,"horizontal","left")},horizontalRight(){return this.getPosition(2,"horizontal","right")}},watch:{},created(){this.isShow=this.show,0===this.top&&(this.fabShow=!0)},methods:{_onClick(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open(){this.isShow=!0},close(){this.isShow=!1},_onItemClick(t,e){this.$emit("trigger",{index:t,item:e})},getPosition(t,e,s){return 0===t?this.horizontal===e&&this.vertical===s:1===t?this.direction===e&&this.vertical===s:2===t?this.direction===e&&this.horizontal===s:this.isShow&&this.direction===e?this.contentWidth:this.contentWidthMin}}},[["render",function(e,s,a,o,u,_){const x=h,v=k,C=b,$=l(i("uni-icons"),t);return d(),r(x,{class:"uni-cursor-point"},{default:n((()=>[a.popMenu&&(_.leftBottom||_.rightBottom||_.leftTop||_.rightTop)&&a.content.length>0?(d(),r(x,{key:0,class:g([{"uni-fab--leftBottom":_.leftBottom,"uni-fab--rightBottom":_.rightBottom,"uni-fab--leftTop":_.leftTop,"uni-fab--rightTop":_.rightTop},"uni-fab"])},{default:n((()=>[p(x,{class:g([{"uni-fab__content--left":"left"===a.horizontal,"uni-fab__content--right":"right"===a.horizontal,"uni-fab__content--flexDirection":"vertical"===a.direction,"uni-fab__content--flexDirectionStart":_.flexDirectionStart,"uni-fab__content--flexDirectionEnd":_.flexDirectionEnd,"uni-fab__content--other-platform":!u.isAndroidNvue},"uni-fab__content"]),style:y({width:_.boxWidth,height:_.boxHeight}),elevation:"5"},{default:n((()=>[_.flexDirectionStart||_.horizontalLeft?(d(),r(x,{key:0,class:"uni-fab__item uni-fab__item--first"})):c("",!0),(d(!0),w(S,null,R(a.content,((t,e)=>(d(),r(x,{key:e,class:g([{"uni-fab__item--active":u.isShow,"horizontal-margin":"horizontal"==a.direction},"uni-fab__item"]),onClick:s=>_._onItemClick(e,t)},{default:n((()=>[p(v,{src:t.active?t.selectedIconPath:t.iconPath,class:"uni-fab__item-image",mode:"aspectFit"},null,8,["src"]),p(C,{class:g(["uni-fab__item-text",{"vertical-margin":"vertical"==a.direction}]),style:y({color:a.pattern[e].color})},{default:n((()=>[f(m(t.text),1)])),_:2},1032,["class","style"])])),_:2},1032,["class","onClick"])))),128)),_.flexDirectionEnd||_.horizontalRight?(d(),r(x,{key:1,class:"uni-fab__item uni-fab__item--first"})):c("",!0)])),_:1},8,["class","style"])])),_:1},8,["class"])):c("",!0),p(x,{class:g([{"uni-fab__circle--leftBottom":_.leftBottom,"uni-fab__circle--rightBottom":_.rightBottom,"uni-fab__circle--leftTop":_.leftTop,"uni-fab__circle--rightTop":_.rightTop,"uni-fab__content--other-platform":!u.isAndroidNvue},"uni-fab__circle uni-fab__plus"]),style:y({"background-color":"var(--ui-BG-Main)"}),onClick:_._onClick},{default:n((()=>[p($,{class:g(["fab-circle-icon",{"uni-fab__plus--active":u.isShow&&a.content.length>0}]),type:"plusempty",color:"#fff",size:"20"},null,8,["class"])])),_:1},8,["class","style","onClick"])])),_:1})}],["__scopeId","data-v-4d6bd010"]]),Ct=X({__name:"s-float-menu",props:{data:{type:Object,default(){}}},setup(t){var e;const s=t,a=v({pattern:[],content:[],direction:""}),o=L(null);function n(t){x.$router.go(t.item.url)}function u(){var t,e;(null==(t=_(o))?void 0:t.isShow)&&(null==(e=_(o))||e.close())}return a.direction=s.data.direction,null==(e=s.data)||e.list.forEach((t=>{var e;const o=(null==(e=s.data)?void 0:e.showText)?t.text:"";a.content.push({iconPath:x.$url.cdn(t.imgUrl),url:t.url,text:o}),a.pattern.push({color:t.textColor})})),z((()=>{var t,e;return!!(null==(t=_(o))?void 0:t.isShow)&&(null==(e=_(o))||e.close(),!0)})),(t,e)=>{var s;const g=h,y=l(i("uni-fab"),vt);return d(),w(S,null,[(null==(s=o.value)?void 0:s.isShow)?(d(),r(g,{key:0,class:"modal-bg",onClick:u})):c("",!0),p(y,{ref_key:"fabRef",ref:o,horizontal:"right",vertical:"bottom",direction:a.direction,pattern:a.pattern,content:a.content,onTrigger:n},null,8,["direction","pattern","content"])],64)}}},[["__scopeId","data-v-5bf5ab3a"]]),wt={__name:"s-image-block",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup:t=>(e,s)=>{const a=l(i("su-image"),tt),o=h;return d(),r(o,{onClick:s[0]||(s[0]=e=>{var s;return _(x).$router.go(null==(s=t.data)?void 0:s.url)})},{default:n((()=>[p(a,{src:_(x).$url.cdn(t.data.imgUrl),mode:"widthFix"},null,8,["src"])])),_:1})}},St={__name:"s-image-banner",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,s=C((()=>e.data.items.map((t=>{const e="img"===t.type?t.imgUrl:t.videoUrl;return{...t,type:"img"===t.type?"image":"video",src:x.$url.cdn(e),poster:x.$url.cdn(t.imgUrl)}}))));return(e,a)=>{const o=l(i("su-swiper"),et);return d(),r(o,{list:s.value,dotStyle:"dot"===t.data.indicator?"long":"tag",imageMode:"scaleToFill",dotCur:"bg-mask-40",seizeHeight:300,autoplay:t.data.autoplay,interval:1e3*t.data.interval,mode:t.data.type},null,8,["list","dotStyle","autoplay","interval","mode"])}}},Rt=X({__name:"s-title-block",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=v({typeMap:{left:"ss-row-left",center:"ss-row-center"}}),s=t,a=C((()=>{const{bgType:t,bgImg:e,bgColor:a}=s.styles;return{background:"img"===t?`url(${e}) no-repeat top center / 100% 100%`:a}}));return(s,o)=>{const l=h,i=b;return d(),r(l,{class:g(["ss-title-wrap ss-flex ss-col-center",[e.typeMap[t.data.textAlign]]]),style:y([a.value,{marginLeft:`${t.data.space}px`}])},{default:n((()=>{var e;return[p(l,{class:"title-content"},{default:n((()=>[t.data.title?(d(),r(l,{key:0,style:y({fontSize:`${t.data.titleSize}px`,fontWeight:t.data.titleWeight,color:t.data.titleColor,textAlign:t.data.textAlign}),class:"title-text"},{default:n((()=>[f(m(t.data.title),1)])),_:1},8,["style"])):c("",!0),t.data.description?(d(),r(l,{key:1,style:y({fontSize:`${t.data.descriptionSize}px`,fontWeight:t.data.descriptionWeight,color:t.data.descriptionColor,textAlign:t.data.textAlign}),class:"sub-title-text"},{default:n((()=>[f(m(t.data.description),1)])),_:1},8,["style"])):c("",!0)])),_:1}),(null==(e=t.data.more)?void 0:e.show)?(d(),r(l,{key:0,class:"more-box ss-flex ss-col-center",onClick:o[0]||(o[0]=e=>_(x).$router.go(t.data.more.url)),style:y({color:t.data.descriptionColor})},{default:n((()=>["icon"!==t.data.more.type?(d(),r(l,{key:0,class:"more-text"},{default:n((()=>[f(m(t.data.more.text),1)])),_:1})):c("",!0),"text"!==t.data.more.type?(d(),r(i,{key:1,class:"_icon-forward"})):c("",!0)])),_:1},8,["style"])):c("",!0)]})),_:1},8,["class","style"])}}},[["__scopeId","data-v-5e45b066"]]),$t=X({__name:"s-image-cube",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e=t,s=x.$platform.device.windowWidth,a=C((()=>(s-((e.styles.marginLeft||0)+(e.styles.marginRight||0)+2*(e.styles.padding||0)))/4)),o=C((()=>{var t,o,l,i;let d=e.data.list.reduce(((t,e)=>t.includes(e.height+e.top)?t:[...t,e.height+e.top]),[]);return{height:Math.max(...d)*a.value+"px",width:s-2*((null==(o=null==(t=e.data)?void 0:t.style)?void 0:o.marginLeft)+(null==(i=null==(l=e.data)?void 0:l.style)?void 0:i.marginRight)+2*e.styles.padding)+"px"}})),l=t=>({width:t.width*a.value-e.data.space+"px",height:t.height*a.value-e.data.space+"px",left:t.left*a.value+"px",top:t.top*a.value+"px","border-top-left-radius":e.data.borderRadiusTop+"px","border-top-right-radius":e.data.borderRadiusTop+"px","border-bottom-left-radius":e.data.borderRadiusBottom+"px","border-bottom-right-radius":e.data.borderRadiusBottom+"px"});return(e,s)=>{const a=k,i=h;return d(),r(i,{class:"ss-cube-wrap",style:y([o.value])},{default:n((()=>[(d(!0),w(S,null,R(t.data.list,((e,s)=>(d(),r(i,{key:s},{default:n((()=>[p(i,{class:"cube-img-wrap",style:y([l(e),{margin:t.data.space+"px"}]),onClick:t=>_(x).$router.go(e.url)},{default:n((()=>[p(a,{class:"cube-img",src:_(x).$url.cdn(e.imgUrl),mode:"aspectFill"},null,8,["src"])])),_:2},1032,["style","onClick"])])),_:2},1024)))),128))])),_:1},8,["style"])}}},[["__scopeId","data-v-1ee0eac9"]]),Tt=X({__name:"s-video-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup:t=>(e,s)=>{const a=l(i("su-video"),st);return d(),r(a,{class:"sss",uid:_(F)(),src:_(x).$url.cdn(t.data.videoUrl),poster:_(x).$url.cdn(t.data.posterUrl),height:2*t.styles.height,autoplay:t.data.autoplay},null,8,["uid","src","poster","height","autoplay"])}},[["__scopeId","data-v-63389778"]]),Bt=X({__name:"su-subline",props:{lineColor:{type:String,default:"#000"},borderType:{type:String,default:"dashed"},lineWidth:{type:Number,default:1},height:{type:[Number,String],default:"auto"},paddingType:{type:String,default:"none"}},setup(t){const e=t,s=C((()=>({"border-top-width":`${e.lineWidth}px`,"border-top-color":e.lineColor,"border-top-style":e.borderType,margin:"none"===e.paddingType?"0":"0px 16px"})));return(e,a)=>{const o=h;return d(),r(o,{class:"wrap",style:y({height:`${t.height}px`})},{default:n((()=>[p(o,{class:"divider",style:y([s.value])},null,8,["style"])])),_:1},8,["style"])}}},[["__scopeId","data-v-bf2fb0d0"]]),Lt={__name:"s-line-block",props:{data:{type:Object,default:{}}},setup:t=>(e,s)=>{const a=l(i("su-subline"),Bt);return d(),r(a,O(P(t.data)),null,16)}},It=X({__name:"s-hotzone-block",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup:t=>(e,s)=>{const a=k,o=h;return d(),r(o,{class:"hotzone-wrap"},{default:n((()=>[p(a,{src:_(x).$url.cdn(t.data.imgUrl),style:{width:"100%"},mode:"widthFix"},null,8,["src"]),(d(!0),w(S,null,R(t.data.list,((t,e)=>(d(),r(o,{class:"hotzone-box",key:e,style:y([{top:`${t.top}px`,left:`${t.left}px`,width:`${t.width}px`,height:`${t.height}px`}]),onClick:j((e=>_(x).$router.go(t.url)),["stop"])},null,8,["style","onClick"])))),128))])),_:1})}},[["__scopeId","data-v-e570383d"]]),jt=X({__name:"s-goods-card",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e="oneColBigImg",s="twoCol",a="oneColSmallImg",o=v({goodsList:[],leftGoodsList:[],rightGoodsList:[]}),u=t,{layoutType:g,btnBuy:b,spuIds:k}=u.data||{},{marginLeft:$,marginRight:T}=u.styles||{},B=C((()=>"text"===b.type?{background:`linear-gradient(to right, ${b.bgBeginColor}, ${b.bgEndColor})`}:"img"===b.type?{width:"54rpx",height:"54rpx",background:`url(${x.$url.cdn(b.imgUrl)}) no-repeat`,backgroundSize:"100% 100%"}:void 0));let L=0,I=0,j=0;function z(t=0,e="left"){o.goodsList[L]&&("left"===e&&(I+=t),"right"===e&&(j+=t),I<=j?o.leftGoodsList.push(o.goodsList[L]):o.rightGoodsList.push(o.goodsList[L]),L++)}return W((async()=>{o.goodsList=await async function(t){const{data:e}=await ot.getSpuListByIds(t);return e}(k.join(",")),await M.getSettlementProduct(o.goodsList.map((t=>t.id)).join(",")).then((t=>{0===t.code&&lt(o.goodsList,t.data)})),g===s&&z()})),(u,k)=>{const v=N,C=l(i("s-goods-column"),at),L=h;return d(),r(L,null,{default:n((()=>[_(g)===e&&o.goodsList.length?(d(),r(L,{key:0,class:"goods-sl-box"},{default:n((()=>[(d(!0),w(S,null,R(o.goodsList,(e=>(d(),r(L,{class:"goods-box",key:e.id,style:y([{marginBottom:2*t.data.space+"rpx"}])},{default:n((()=>{var s;return[p(C,{class:"",size:"sl",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>_(x).$router.go("/pages/goods/index",{id:e.id})},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):c("",!0),_(g)===s&&o.goodsList.length?(d(),r(L,{key:1,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top"},{default:n((()=>[p(L,{class:"goods-list-box"},{default:n((()=>[(d(!0),w(S,null,R(o.leftGoodsList,(e=>(d(),r(L,{class:"left-list",style:y([{paddingRight:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-_($)-_(T),onClick:t=>_(x).$router.go("/pages/goods/index",{id:e.id}),onGetHeight:k[0]||(k[0]=t=>z(t,"left"))},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1}),p(L,{class:"goods-list-box"},{default:n((()=>[(d(!0),w(S,null,R(o.rightGoodsList,(e=>(d(),r(L,{class:"right-list",style:y([{paddingLeft:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-_($)-_(T),onClick:t=>_(x).$router.go("/pages/goods/index",{id:e.id}),onGetHeight:k[1]||(k[1]=t=>z(t,"right"))},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})):c("",!0),_(g)===a&&o.goodsList.length?(d(),r(L,{key:2,class:"goods-lg-box"},{default:n((()=>[(d(!0),w(S,null,R(o.goodsList,(e=>(d(),r(L,{class:"goods-box",style:y([{marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-card",size:"lg",goodsFields:t.data.fields,data:e,tagStyle:t.data.badge,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>_(x).$router.go("/pages/goods/index",{id:e.id})},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","data","tagStyle","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):c("",!0)])),_:1})}}},[["__scopeId","data-v-eca9a26c"]]),zt=X({__name:"s-goods-shelves",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e=t,{layoutType:s,spuIds:a}=e.data;let{marginLeft:o,marginRight:u}=e.styles;const g=L([]);return W((async()=>{if(a.length>0){let{data:t}=await ot.getSpuListByIds(a.join(","));g.value=t}})),(e,a)=>{const f=l(i("s-goods-column"),at),m=h,b=D;return d(),r(m,null,{default:n((()=>["twoCol"===_(s)?(d(),r(m,{key:0,class:"goods-xs-box ss-flex ss-flex-wrap",style:y([{margin:"-"+t.data.space+"rpx"}])},{default:n((()=>[(d(!0),w(S,null,R(g.value,(e=>(d(),r(m,{class:"goods-xs-list",key:e.id,style:y([{padding:t.data.space+"rpx"}])},{default:n((()=>{var s;return[p(f,{class:"goods-card",size:"xs",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:(454-2*_(u)-2*t.data.space-2*_(o))/2,onClick:t=>_(x).$router.go("/pages/goods/index",{id:e.id})},null,8,["goodsFields","tagStyle","data","titleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1},8,["style"])):c("",!0),"threeCol"===_(s)?(d(),r(m,{key:1,class:"goods-sm-box ss-flex ss-flex-wrap",style:y([{margin:"-"+t.data.space+"rpx"}])},{default:n((()=>[(d(!0),w(S,null,R(g.value,(e=>(d(),r(m,{key:e.id,class:"goods-card-box",style:y([{padding:t.data.space+"rpx"}])},{default:n((()=>{var s;return[p(f,{class:"goods-card",size:"sm",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>_(x).$router.go("/pages/goods/index",{id:e.id})},null,8,["goodsFields","tagStyle","data","titleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1},8,["style"])):c("",!0),"horizSwiper"===_(s)?(d(),r(m,{key:2,class:""},{default:n((()=>[p(b,{class:"scroll-box goods-scroll-box","scroll-x":"","scroll-anchoring":""},{default:n((()=>[p(m,{class:"goods-box ss-flex"},{default:n((()=>[(d(!0),w(S,null,R(g.value,(e=>(d(),r(m,{class:"goods-card-box",key:e.id,style:y([{marginRight:2*t.data.space+"rpx"}])},{default:n((()=>{var s;return[p(f,{class:"goods-card",size:"sm",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,titleWidth:(750-2*_(u)-4*t.data.space-2*_(o))/3,onClick:t=>_(x).$router.go("/pages/goods/index",{id:e.id})},null,8,["goodsFields","tagStyle","data","titleColor","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})])),_:1})):c("",!0)])),_:1})}}},[["__scopeId","data-v-32be2126"]]),Ft=X({__name:"s-groupon-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e="oneColBigImg",s="twoCol",a="oneColSmallImg",o=v({spuList:[],leftSpuList:[],rightSpuList:[]}),u=t,{layoutType:g,btnBuy:b,activityIds:k}=u.data||{},{marginLeft:$,marginRight:T}=u.styles||{},B=C((()=>"text"===b.type?{background:`linear-gradient(to right, ${b.bgBeginColor}, ${b.bgEndColor})`}:"img"===b.type?{width:"54rpx",height:"54rpx",background:`url(${x.$url.cdn(b.imgUrl)}) no-repeat`,backgroundSize:"100% 100%"}:void 0));let L=0,I=0,j=0;function z(t=0,e="left"){o.spuList[L]&&("left"===e&&(I+=t),"right"===e&&(j+=t),I<=j?o.leftSpuList.push(o.spuList[L]):o.rightSpuList.push(o.spuList[L]),L++)}async function F(t){const{data:e}=await ot.getSpuDetail(t);return e}return W((async()=>{const t=await async function(t){const{data:e}=await dt.getCombinationActivityListByIds(t);return e}(k.join(","));for(const e of t)o.spuList.push(await F(e.spuId));t.forEach((t=>{const e=t.combinationPrice||1/0,s=o.spuList.find((e=>t.spuId===e.id));s&&(s.name=t.name,s.price=Math.min(e,s.price),s.activityId=t.id)})),g===s&&z()})),(u,k)=>{const v=N,C=l(i("s-goods-column"),at),L=h;return d(),r(L,null,{default:n((()=>[_(g)===e&&o.spuList.length?(d(),r(L,{key:0,class:"goods-sl-box"},{default:n((()=>[(d(!0),w(S,null,R(o.spuList,(e=>(d(),r(L,{class:"goods-box",key:e.id,style:y([{marginBottom:2*t.data.space+"rpx"}])},{default:n((()=>{var s;return[p(C,{class:"",size:"sl",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>_(x).$router.go("/pages/goods/groupon",{id:e.activityId})},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):c("",!0),_(g)===a&&o.spuList.length?(d(),r(L,{key:1,class:"goods-lg-box"},{default:n((()=>[(d(!0),w(S,null,R(o.spuList,(e=>(d(),r(L,{class:"goods-box",style:y([{marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-card",size:"lg",goodsFields:t.data.fields,data:e,tagStyle:t.data.badge,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>_(x).$router.go("/pages/goods/groupon",{id:e.activityId})},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","data","tagStyle","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):c("",!0),_(g)===s&&o.spuList.length?(d(),r(L,{key:2,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top"},{default:n((()=>[p(L,{class:"goods-list-box"},{default:n((()=>[(d(!0),w(S,null,R(o.leftSpuList,(e=>(d(),r(L,{class:"left-list",style:y([{paddingRight:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-_($)-_(T),onClick:t=>_(x).$router.go("/pages/goods/groupon",{id:e.activityId}),onGetHeight:k[0]||(k[0]=t=>z(t,"left"))},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1}),p(L,{class:"goods-list-box"},{default:n((()=>[(d(!0),w(S,null,R(o.rightSpuList,(e=>(d(),r(L,{class:"right-list",style:y([{paddingLeft:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-_($)-_(T),onClick:t=>_(x).$router.go("/pages/goods/groupon",{id:e.activityId}),onGetHeight:k[1]||(k[1]=t=>z(t,"right"))},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})):c("",!0)])),_:1})}}},[["__scopeId","data-v-6c5851a7"]]),Ot=X({__name:"s-seckill-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e="oneColBigImg",s="twoCol",a="oneColSmallImg",o=v({spuList:[],leftSpuList:[],rightSpuList:[]}),u=t,{layoutType:g,btnBuy:b,activityIds:k}=u.data||{},{marginLeft:$,marginRight:T}=u.styles||{},B=C((()=>"text"===b.type?{background:`linear-gradient(to right, ${b.bgBeginColor}, ${b.bgEndColor})`}:"img"===b.type?{width:"54rpx",height:"54rpx",background:`url(${x.$url.cdn(b.imgUrl)}) no-repeat`,backgroundSize:"100% 100%"}:void 0));let L=0,I=0,j=0;function z(t=0,e="left"){o.spuList[L]&&("left"===e&&(I+=t),"right"===e&&(j+=t),I<=j?o.leftSpuList.push(o.spuList[L]):o.rightSpuList.push(o.spuList[L]),L++)}async function F(t){const{data:e}=await ot.getSpuDetail(t);return e}return W((async()=>{const t=await async function(t){const{data:e}=await rt.getSeckillActivityListByIds(t);return e}(k.join(","));for(const e of t)o.spuList.push(await F(e.spuId));t.forEach((t=>{const e=t.seckillPrice||1/0,s=o.spuList.find((e=>t.spuId===e.id));s&&(s.name=t.name,s.price=Math.min(e,s.price),s.activityId=t.id)})),g===s&&z()})),(u,k)=>{const v=N,C=l(i("s-goods-column"),at),L=h;return d(),r(L,null,{default:n((()=>[_(g)===e&&o.spuList.length?(d(),r(L,{key:0,class:"goods-sl-box"},{default:n((()=>[(d(!0),w(S,null,R(o.spuList,(e=>(d(),r(L,{class:"goods-box",key:e.id,style:y([{marginBottom:2*t.data.space+"rpx"}])},{default:n((()=>{var s;return[p(C,{class:"",size:"sl",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>_(x).$router.go("/pages/goods/seckill",{id:e.activityId})},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):c("",!0),_(g)===a&&o.spuList.length?(d(),r(L,{key:1,class:"goods-lg-box"},{default:n((()=>[(d(!0),w(S,null,R(o.spuList,(e=>(d(),r(L,{class:"goods-box",style:y([{marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-card",size:"lg",goodsFields:t.data.fields,data:e,tagStyle:t.data.badge,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>_(x).$router.go("/pages/goods/seckill",{id:e.activityId})},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","data","tagStyle","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):c("",!0),_(g)===s&&o.spuList.length?(d(),r(L,{key:2,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top"},{default:n((()=>[p(L,{class:"goods-list-box"},{default:n((()=>[(d(!0),w(S,null,R(o.leftSpuList,(e=>(d(),r(L,{class:"left-list",style:y([{paddingRight:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-_($)-_(T),onClick:t=>_(x).$router.go("/pages/goods/seckill",{id:e.activityId}),onGetHeight:k[0]||(k[0]=t=>z(t,"left"))},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1}),p(L,{class:"goods-list-box"},{default:n((()=>[(d(!0),w(S,null,R(o.rightSpuList,(e=>(d(),r(L,{class:"right-list",style:y([{paddingLeft:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-_($)-_(T),onClick:t=>_(x).$router.go("/pages/goods/seckill",{id:e.activityId}),onGetHeight:k[1]||(k[1]=t=>z(t,"right"))},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})):c("",!0)])),_:1})}}},[["__scopeId","data-v-77f690b3"]]),Pt=X({__name:"s-point-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e="oneColBigImg",s="twoCol",a="oneColSmallImg",o=v({spuList:[],leftSpuList:[],rightSpuList:[]}),u=t,{layoutType:g,btnBuy:b,activityIds:k}=u.data||{},{marginLeft:$,marginRight:T}=u.styles||{},B=C((()=>"text"===b.type?{background:`linear-gradient(to right, ${b.bgBeginColor}, ${b.bgEndColor})`}:"img"===b.type?{width:"54rpx",height:"54rpx",background:`url(${x.$url.cdn(b.imgUrl)}) no-repeat`,backgroundSize:"100% 100%"}:void 0));let L=0,I=0,j=0;function z(t=0,e="left"){o.spuList[L]&&("left"===e&&(I+=t),"right"===e&&(j+=t),I<=j?o.leftSpuList.push(o.spuList[L]):o.rightSpuList.push(o.spuList[L]),L++)}async function F(t){const{data:e}=await ot.getSpuDetail(t);return e}return W((async()=>{const t=await async function(t){const{data:e}=await nt.getPointActivityListByIds(t);return e}(k.join(","));for(const e of t)o.spuList.push(await F(e.spuId));t.forEach((t=>{const e=o.spuList.find((e=>t.spuId===e.id));e&&(e.pointStock=t.stock,e.pointTotalStock=t.totalStock,e.point=t.point,e.pointPrice=t.price,e.activityId=t.id,e.activityType=U.POINT.type)})),g===s&&z()})),(u,k)=>{const v=N,C=l(i("s-goods-column"),at),L=h;return d(),r(L,null,{default:n((()=>[_(g)===e&&o.spuList.length?(d(),r(L,{key:0,class:"goods-sl-box"},{default:n((()=>[(d(!0),w(S,null,R(o.spuList,(e=>(d(),r(L,{class:"goods-box",key:e.id,style:y([{marginBottom:2*t.data.space+"rpx"}])},{default:n((()=>{var s;return[p(C,{class:"",size:"sl",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>_(x).$router.go("/pages/goods/point",{id:e.activityId})},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):c("",!0),_(g)===a&&o.spuList.length?(d(),r(L,{key:1,class:"goods-lg-box"},{default:n((()=>[(d(!0),w(S,null,R(o.spuList,(e=>(d(),r(L,{class:"goods-box",style:y([{marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-card",size:"lg",goodsFields:t.data.fields,data:e,tagStyle:t.data.badge,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>_(x).$router.go("/pages/goods/point",{id:e.activityId})},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","data","tagStyle","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):c("",!0),_(g)===s&&o.spuList.length?(d(),r(L,{key:2,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top"},{default:n((()=>[p(L,{class:"goods-list-box"},{default:n((()=>[(d(!0),w(S,null,R(o.leftSpuList,(e=>(d(),r(L,{class:"left-list",style:y([{paddingRight:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-_($)-_(T),onClick:t=>_(x).$router.go("/pages/goods/point",{id:e.activityId}),onGetHeight:k[0]||(k[0]=t=>z(t,"left"))},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1}),p(L,{class:"goods-list-box"},{default:n((()=>[(d(!0),w(S,null,R(o.rightSpuList,(e=>(d(),r(L,{class:"right-list",style:y([{paddingLeft:t.data.space+"rpx",marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(C,{class:"goods-md-box",size:"md",goodsFields:t.data.fields,tagStyle:t.data.badge,data:e,titleColor:null==(s=t.data.fields.name)?void 0:s.color,subTitleColor:t.data.fields.introduction.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,titleWidth:330-_($)-_(T),onClick:t=>_(x).$router.go("/pages/goods/point",{id:e.activityId}),onGetHeight:k[1]||(k[1]=t=>z(t,"right"))},{cart:n((()=>[p(v,{class:"ss-reset-button cart-btn",style:y([B.value])},{default:n((()=>[f(m("text"===_(b).type?_(b).text:""),1)])),_:1},8,["style"])])),_:2},1032,["goodsFields","tagStyle","data","titleColor","subTitleColor","topRadius","bottomRadius","titleWidth","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})])),_:1})):c("",!0)])),_:1})}}},[["__scopeId","data-v-d2031aef"]]),Wt=X({__name:"s-live-card",props:{goodsFields:{type:[Array,Object],default:()=>({})},tagStyle:{type:Object,default:{}},data:{type:Object,default:{}},size:{type:String,default:"sl"},background:{type:String,default:""},topRadius:{type:Number,default:0},bottomRadius:{type:Number,default:0},titleColor:{type:String,default:"#333"},subTitleColor:{type:String,default:"#999999"}},emits:["click","getHeight"],setup(t,{emit:e}){const s=t,a=C((()=>({background:s.background,"border-top-left-radius":s.topRadius+"px","border-top-right-radius":s.topRadius+"px","border-bottom-left-radius":s.bottomRadius+"px","border-bottom-right-radius":s.bottomRadius+"px"}))),o=v({liveStatus:{101:{img:x.$url.static("/static/img/shop/app/mplive/living.png"),title:"直播中"},102:{img:x.$url.static("/static/img/shop/app/mplive/start.png"),title:"未开始"},103:{img:x.$url.static("/static/img/shop/app/mplive/ended.png"),title:"已结束"}}}),l=e,i=()=>{l("click")};return(e,s)=>{const l=k,u=h;return d(),r(u,null,{default:n((()=>["md"===t.size?(d(),r(u,{key:0,class:"md-goods-card ss-flex-col",style:y([a.value]),onClick:i},{default:n((()=>[p(u,{class:"icon-box ss-flex"},{default:n((()=>[p(l,{class:"icon",src:o.liveStatus[t.data.status].img},null,8,["src"]),p(u,{class:"title ss-m-l-16"},{default:n((()=>[f(m(o.liveStatus[t.data.status].title),1)])),_:1})])),_:1}),E("img",{class:"md-img-box",src:_(x).$url.cdn(t.data.feeds_img),referrerpolicy:"no-referrer"},null,8,["src"]),p(u,{class:"md-goods-content"},{default:n((()=>[p(u,{class:"md-goods-title ss-line-1",style:y([{color:t.titleColor}])},{default:n((()=>[f(m(t.data.name),1)])),_:1},8,["style"]),p(u,{class:"md-goods-subtitle ss-m-t-14 ss-line-1",style:y([{color:t.subTitleColor}])},{default:n((()=>[f(" 主播："+m(t.data.anchor_name),1)])),_:1},8,["style"])])),_:1})])),_:1},8,["style"])):c("",!0),"sl"===t.size?(d(),r(u,{key:1,class:"sl-goods-card ss-flex-col",style:y([a.value]),onClick:i},{default:n((()=>[p(u,{class:"icon-box ss-flex"},{default:n((()=>[p(l,{class:"icon",src:o.liveStatus[t.data.status].img},null,8,["src"]),p(u,{class:"title ss-m-l-16"},{default:n((()=>[f(m(o.liveStatus[t.data.status].title),1)])),_:1})])),_:1}),E("img",{class:"sl-img-box",src:_(x).$url.cdn(t.data.feeds_img),referrerpolicy:"no-referrer"},null,8,["src"]),p(u,{class:"sl-goods-content"},{default:n((()=>[p(u,{class:"sl-goods-title ss-line-1",style:y([{color:t.titleColor}])},{default:n((()=>[f(m(t.data.name),1)])),_:1},8,["style"]),p(u,{class:"sl-goods-subtitle ss-m-t-14 ss-line-1",style:y([{color:t.subTitleColor}])},{default:n((()=>[f(" 主播："+m(t.data.anchor_name),1)])),_:1},8,["style"])])),_:1})])),_:1},8,["style"])):c("",!0)])),_:1})}}},[["__scopeId","data-v-bedb20fb"]]),Mt=X({__name:"s-live-block",props:{data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup(t){const e=v({liveList:[],mpLink:""}),s=t,{mode:a,goodsFields:o,mpliveIds:u}=s.data||{};function g(t){G({title:"提示",confirmText:"允许",content:"将打开小程序访问",success:async function(t){t.confirm&&async function(){if(""===e.mpLink){const{error:t,data:s}=await x.$api.app.mplive.getMpLink();0===t&&(e.mpLink=s)}window.location=e.mpLink}()}})}return s.styles,W((async()=>{e.liveList=await async function(t){const{data:e}=await x.$api.app.mplive.getRoomList(t);return e}(u)})),(s,u)=>{const f=l(i("s-live-card"),Wt),m=h;return d(),r(m,null,{default:n((()=>[2===_(a)&&e.liveList.length?(d(),r(m,{key:0,class:"goods-md-wrap ss-flex ss-flex-wrap ss-col-top",style:y([{margin:"-"+t.data.space+"rpx"}])},{default:n((()=>[(d(!0),w(S,null,R(e.liveList,(e=>(d(),r(m,{style:y([{padding:t.data.space+"rpx"}]),class:"goods-list-box",key:e.id},{default:n((()=>{var s,a;return[p(f,{class:"goods-md-box",size:"md",goodsFields:_(o),data:e,titleColor:null==(s=_(o).name)?void 0:s.color,subTitleColor:null==(a=_(o).anchor_name)?void 0:a.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>g(e.roomid)},null,8,["goodsFields","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1},8,["style"])):c("",!0),1===_(a)&&e.liveList.length?(d(),r(m,{key:1,class:"goods-lg-box"},{default:n((()=>[(d(!0),w(S,null,R(e.liveList,(e=>(d(),r(m,{class:"goods-box",style:y([{marginBottom:t.data.space+"px"}]),key:e.id},{default:n((()=>{var s;return[p(f,{class:"goods-card",size:"sl",goodsFields:_(o),data:e,titleColor:null==(s=_(o).name)?void 0:s.color,subTitleColor:_(o).anchor_name.color,topRadius:t.data.borderRadiusTop,bottomRadius:t.data.borderRadiusBottom,onClick:t=>g(e.roomid)},null,8,["goodsFields","data","titleColor","subTitleColor","topRadius","bottomRadius","onClick"])]})),_:2},1032,["style"])))),128))])),_:1})):c("",!0)])),_:1})}}},[["__scopeId","data-v-74e60c24"]]),Nt=X({__name:"su-coupon",props:{size:{type:String,default:"lg"},textColor:{type:String,default:"#FF6000"},background:{type:String,default:"#FFC19C"},btnBg:{type:String,default:"#fff"},btnTextColor:{type:String,default:"#FF6000"},state:{type:Number,default:0},couponId:{type:Number,default:0},title:{type:String,default:"这是优惠券"},value:{type:[Number,String],default:50},sellBy:{type:String,default:"2019.11.25至2019.12.25"},surplus:{type:[Number,String],default:0},type:{type:String,default:""}},setup(t){A((e=>({"1cba8317":t.textColor,"0956aa8e":t.btnTextColor,"78bb65bc":t.btnBg})));const e=v({stateMap:{0:"立即领取",1:"去使用"}}),s=t,a=C((()=>({background:s.background})));return(o,l)=>{const i=h,g=N;return d(),r(i,{class:"ui-coupon-wrap"},{default:n((()=>["xs"===s.size?(d(),r(i,{key:0,class:"xs-coupon-card ss-flex ss-flex-col ss-row-between",style:y([a.value]),onClick:l[0]||(l[0]=e=>_(x).$router.go("/pages/coupon/detail",{id:t.couponId}))},{default:n((()=>[p(i,{class:"ss-flex ss-flex-col ss-row-center ss-col-center"},{default:n((()=>[p(i,{class:"face-value-box ss-flex ss-col-bottom ss-m-t-50 ss-m-b-28"},{default:n((()=>[p(i,{class:"value-text ss-m-r-4"},{default:n((()=>[f(m("reduce"===t.type?t.value:Number(t.value)),1)])),_:1}),p(i,{class:"value-unit"},{default:n((()=>[f(m("reduce"===t.type?"元":"折"),1)])),_:1})])),_:1}),p(i,{class:"title-text"},{default:n((()=>[f(m(s.title),1)])),_:1})])),_:1}),p(i,{class:"card-bottom ss-m-b-30 ss-flex ss-row-center"},{default:n((()=>[u(o.$slots,"btn",{},(()=>[p(g,{class:"ss-reset-button card-btn"},{default:n((()=>[f(m(e.stateMap[s.state]),1)])),_:1})]),!0)])),_:3})])),_:3},8,["style"])):c("",!0),"md"===s.size?(d(),r(i,{key:1,class:"md-coupon-card ss-flex ss-row-between",style:y([a.value]),onClick:l[1]||(l[1]=e=>_(x).$router.go("/pages/coupon/detail",{id:t.couponId}))},{default:n((()=>[p(i,{class:"card-left ss-flex ss-flex-col ss-row-between ss-col-top ss-m-l-40"},{default:n((()=>[p(i,{class:"face-value-box ss-flex ss-col-bottom ss-m-t-28"},{default:n((()=>[p(i,{class:"value-text ss-m-r-4"},{default:n((()=>[f(m("reduce"===t.type?t.value:Number(t.value)),1)])),_:1}),p(i,{class:"value-unit"},{default:n((()=>[f(m("reduce"===t.type?"元":"折"),1)])),_:1})])),_:1}),p(i,{class:"ss-m-b-28"},{default:n((()=>[p(i,{class:"title-text ss-m-b-10"},{default:n((()=>[f(m(s.title),1)])),_:1}),s.surplus?(d(),r(i,{key:0,class:"surplus-text"},{default:n((()=>[f("仅剩："+m(s.surplus)+"张",1)])),_:1})):c("",!0)])),_:1})])),_:1}),p(i,{class:"card-right ss-flex ss-row-center"},{default:n((()=>[u(o.$slots,"btn",{},(()=>[p(g,{class:"ss-reset-button card-btn ss-flex ss-row-center ss-col-center"},{default:n((()=>[p(i,{class:"btn-text"},{default:n((()=>[f(m(e.stateMap[s.state]),1)])),_:1})])),_:1})]),!0)])),_:3})])),_:3},8,["style"])):c("",!0),"lg"===s.size?(d(),r(i,{key:2,class:"lg-coupon-card ss-flex ss-row-between",style:y([a.value]),onClick:l[2]||(l[2]=e=>_(x).$router.go("/pages/coupon/detail",{id:t.couponId}))},{default:n((()=>[p(i,{class:"card-left ss-flex ss-flex-col ss-row-between ss-col-top ss-m-l-40"},{default:n((()=>[p(i,{class:"face-value-box ss-flex ss-col-bottom ss-m-t-28"},{default:n((()=>[p(i,{class:"value-text ss-m-r-4"},{default:n((()=>[f(m("reduce"===t.type?t.value:Number(t.value)),1)])),_:1}),p(i,{class:"value-unit"},{default:n((()=>[f(m("reduce"===t.type?"元":"折"),1)])),_:1})])),_:1}),p(i,{class:"ss-m-b-20"},{default:n((()=>[p(i,{class:"title-text ss-m-b-10"},{default:n((()=>[f(m(s.title),1)])),_:1}),p(i,{class:"sellby-text"},{default:n((()=>[f("有效期："+m(s.sellBy),1)])),_:1})])),_:1})])),_:1}),p(i,{class:"card-right ss-flex ss-flex-col ss-col-center ss-row-center"},{default:n((()=>[u(o.$slots,"btn",{},(()=>[p(g,{class:"ss-reset-button card-btn ss-flex ss-row-center ss-col-center"},{default:n((()=>[f(m(e.stateMap[s.state]),1)])),_:1})]),!0),s.surplus?(d(),r(i,{key:0,class:"surplus-text ss-m-t-24"},{default:n((()=>[f("仅剩："+m(s.surplus)+"张",1)])),_:1})):c("",!0)])),_:3})])),_:3},8,["style"])):c("",!0)])),_:3})}}},[["__scopeId","data-v-0533717a"]]),Dt=X({__name:"s-coupon-block",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,{columns:s,button:a}=e.data,o=["lg","md","xs"],u={background:`url(${x.$url.cdn(e.data.bgImg)}) no-repeat top center / 100% 100%`},c={background:a.bgColor,color:a.color},g={display:"flex","justify-content":"space-between"},m={display:"flex","justify-content":"space-around"},b=C((()=>{const{bgType:t,bgImg:s,bgColor:a}=e.styles;return{background:"img"===t?`url(${s}) no-repeat top center / 100% 100%`:a}})),k=t=>t.discountType===H.PRICE.type?ut(t.discountPrice):t.discountType===H.PERCENT.type?t.discountPercent:`未知【${t.discountType}】`,v=L([]);async function $(t){const{error:e,msg:s}=await Z.takeCoupon(t);0!==e?await T():V({title:s,icon:"none"})}const T=async()=>{const{data:t}=await Z.getCouponTemplateListByIds(e.data.couponIds.join(","));v.value=t};return W((()=>{T()})),(e,a)=>{const x=h,C=N,T=l(i("su-coupon"),Nt),B=D;return d(),r(B,{class:"scroll-box","scroll-x":"","scroll-anchoring":"",style:y([b.value,{marginLeft:`${t.data.space}px`}])},{default:n((()=>[p(x,{class:"coupon-box ss-flex",style:y(2===v.value.length?m:g)},{default:n((()=>[(d(!0),w(S,null,R(v.value,((e,a)=>(d(),r(x,{class:"coupon-item",style:y([u,{marginLeft:`${t.data.space}px`}]),key:a},{default:n((()=>{return[p(T,{size:o[_(s)-1],textColor:t.data.textColor,background:"",couponId:e.id,title:e.name,type:(l=e,l.discountType===H.PRICE.type?"reduce":l.discountType===H.PERCENT.type?"percent":`未知【${l.discountType}】`),value:k(e),sellBy:(a=e,a.validityType===q.DATE.type?`${ct(a.validStartTime)} 至 ${ct(a.validEndTime)}`:a.validityType===q.TERM.type?`领取后第 ${a.fixedStartTerm} - ${a.fixedEndTerm} 天内可用`:"未知【"+a.validityType+"】")},{btn:n((()=>[2===_(s)?(d(),r(C,{key:0,onClick:j((t=>$(e.id)),["stop"]),class:"ss-reset-button card-btn vertical",style:y([c])},{default:n((()=>[p(x,{class:"btn-text"},{default:n((()=>[f("立即领取")])),_:1})])),_:2},1032,["onClick","style"])):(d(),r(C,{key:1,class:"ss-reset-button card-btn",style:y([c]),onClick:j((t=>$(e.id)),["stop"])},{default:n((()=>[f(" 立即领取 ")])),_:2},1032,["style","onClick"]))])),_:2},1032,["size","textColor","couponId","title","type","value","sellBy"])];var a,l})),_:2},1032,["style"])))),128))])),_:1},8,["style"])])),_:1},8,["style"])}}},[["__scopeId","data-v-9bfdd9ec"]]),Ut={__name:"s-richtext-block",props:{data:{type:Object,default:{}},styles:{type:Object,default(){}}},setup(t){const e=t,s=v({content:""});return W((async()=>{const{data:t}=await gt.getArticle(e.data.id);s.content=t.content})),(e,a)=>{const o=l(i("mp-html"),pt),u=h;return d(),r(u,{style:y([{marginLeft:t.styles.marginLeft+"px",marginRight:t.styles.marginRight+"px",marginBottom:t.styles.marginBottom+"px",marginTop:t.styles.marginTop+"px",padding:t.styles.padding+"px"}])},{default:n((()=>[p(o,{class:"richtext",content:s.content},null,8,["content"])])),_:1},8,["style"])}}},Et=X({__name:"s-user-card",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},avatar:{type:String,default:""},nickname:{type:String,default:"请先登录"},vip:{type:[String,Number],default:"1"},collectNum:{type:[String,Number],default:"1"},likeNum:{type:[String,Number],default:"1"}},setup(t){const e=C((()=>x.$store("user").userInfo));console.log("用户信息",e);const s=C((()=>x.$store("user").isLogin)),a=t,o=C((()=>{const{bgType:t,bgImg:e,bgColor:s}=a.styles;return{background:"img"===t?`url(${e}) no-repeat top center / 100% 100%`:s}}));function l(){Q("changeMobile")}return(a,i)=>{const u=k,g=h,v=b,C=N;return d(),r(g,{class:"ss-user-info-wrap ss-p-t-50",style:y([o.value,{marginLeft:`${t.data.space}px`}])},{default:n((()=>[p(g,{class:"ss-flex ss-col-center ss-row-between ss-m-b-20"},{default:n((()=>[p(g,{class:"left-box ss-flex ss-col-center ss-m-l-36"},{default:n((()=>[p(g,{class:"avatar-box ss-m-r-24"},{default:n((()=>[p(u,{class:"avatar-img",src:s.value?_(x).$url.cdn(e.value.avatar):_(x).$url.static("/static/img/shop/default_avatar.png"),mode:"aspectFill",onClick:i[0]||(i[0]=t=>_(x).$router.go("/pages/user/info"))},null,8,["src"])])),_:1}),p(g,null,{default:n((()=>[p(g,{class:"nickname-box ss-flex ss-col-center"},{default:n((()=>[p(g,{class:"nick-name ss-m-r-20"},{default:n((()=>{var s;return[f(m((null==(s=e.value)?void 0:s.nickname)||t.nickname),1)]})),_:1})])),_:1})])),_:1})])),_:1}),p(g,{class:"right-box ss-m-r-52"},{default:n((()=>[p(C,{class:"ss-reset-button",onClick:_(J)},{default:n((()=>[p(v,{class:"sicon-qrcode"})])),_:1},8,["onClick"])])),_:1})])),_:1}),s.value&&!e.value.mobile?(d(),r(g,{key:0,class:"bind-mobile-box ss-flex ss-row-between ss-col-center"},{default:n((()=>[p(g,{class:"ss-flex"},{default:n((()=>[p(v,{class:"cicon-mobile-o"}),p(g,{class:"mobile-title ss-m-l-20"},{default:n((()=>[f(" 点击绑定手机号确保账户安全")])),_:1})])),_:1}),p(C,{class:"ss-reset-button bind-btn",onClick:l},{default:n((()=>[f("去绑定")])),_:1})])),_:1})):c("",!0)])),_:1},8,["style"])}}},[["__scopeId","data-v-4b8f6c36"]]),Gt=X({__name:"s-order-card",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=[{title:"待付款",value:"1",icon:"/static/img/shop/order/no_pay.png",path:"/pages/order/list",type:"unpaid",count:"unpaidCount"},{title:"待收货",value:"3",icon:"/static/img/shop/order/no_take.png",path:"/pages/order/list",type:"noget",count:"deliveredCount"},{title:"待评价",value:"4",icon:"/static/img/shop/order/no_comment.png",path:"/pages/order/list",type:"nocomment",count:"uncommentedCount"},{title:"售后单",value:"0",icon:"/static/img/shop/order/change_order.png",path:"/pages/order/aftersale/list",type:"aftersale",count:"afterSaleCount"},{title:"全部订单",value:"0",icon:"/static/img/shop/order/all_order.png",path:"/pages/order/list"}],a=t,o=C((()=>x.$store("user").numData)),u=C((()=>{const{bgType:t,bgImg:e,bgColor:s}=a.styles;return{background:"img"===t?`url(${e}) no-repeat top center / 100% 100%`:s}}));return(a,c)=>{const g=k,b=l(i("uni-badge"),s),v=h;return d(),r(v,{class:"ss-order-menu-wrap ss-flex ss-col-center",style:y([u.value,{marginLeft:`${t.data.space}px`}])},{default:n((()=>[(d(),w(S,null,R(e,(t=>p(v,{class:"menu-item ss-flex-1 ss-flex-col ss-row-center ss-col-center",key:t.title,onClick:e=>_(x).$router.go(t.path,{type:t.value})},{default:n((()=>[p(b,{class:"uni-badge-left-margin",text:o.value.orderCount[t.count],absolute:"rightTop",size:"small"},{default:n((()=>[p(g,{class:"item-icon",src:_(x).$url.static(t.icon),mode:"aspectFit"},null,8,["src"])])),_:2},1032,["text"]),p(v,{class:"menu-title ss-m-t-28"},{default:n((()=>[f(m(t.title),1)])),_:2},1024)])),_:2},1032,["onClick"]))),64))])),_:1},8,["style"])}}},[["__scopeId","data-v-d94ba49c"]]),At=X({__name:"s-wallet-card",props:{data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,s=C((()=>{const{bgType:t,bgImg:s,bgColor:a}=e.styles;return{background:"img"===t?`url(${s}) no-repeat top center / 100% 100%`:a}})),a=C((()=>x.$store("user").userWallet)),o=C((()=>x.$store("user").userInfo)),l=C((()=>x.$store("user").numData));return(e,i)=>{const u=h,c=k;return d(),r(u,{class:"ss-wallet-menu-wrap ss-flex ss-col-center",style:y([s.value,{marginLeft:`${t.data.space}px`}])},{default:n((()=>[p(u,{class:"menu-item ss-flex-1 ss-flex-col ss-row-center ss-col-center",onClick:i[0]||(i[0]=t=>_(x).$router.go("/pages/user/wallet/money"))},{default:n((()=>[p(u,{class:"value-box ss-flex ss-col-bottom"},{default:n((()=>[p(u,{class:"value-text ss-line-1"},{default:n((()=>[f(m(_(it)(a.value.balance)||"0.00"),1)])),_:1}),p(u,{class:"unit-text ss-m-l-6"},{default:n((()=>[f("元")])),_:1})])),_:1}),p(u,{class:"menu-title ss-m-t-28"},{default:n((()=>[f("账户余额")])),_:1})])),_:1}),p(u,{class:"menu-item ss-flex-1 ss-flex-col ss-row-center ss-col-center",onClick:i[1]||(i[1]=t=>_(x).$router.go("/pages/user/wallet/score"))},{default:n((()=>[p(u,{class:"value-box ss-flex ss-col-bottom"},{default:n((()=>[p(u,{class:"value-text"},{default:n((()=>[f(m(o.value.point||0),1)])),_:1}),p(u,{class:"unit-text ss-m-l-6"},{default:n((()=>[f("个")])),_:1})])),_:1}),p(u,{class:"menu-title ss-m-t-28"},{default:n((()=>[f("积分")])),_:1})])),_:1}),p(u,{class:"menu-item ss-flex-1 ss-flex-col ss-row-center ss-col-center",onClick:i[2]||(i[2]=t=>_(x).$router.go("/pages/coupon/list",{type:"geted"}))},{default:n((()=>[p(u,{class:"value-box ss-flex ss-col-bottom"},{default:n((()=>[p(u,{class:"value-text"},{default:n((()=>[f(m(l.value.unusedCouponCount),1)])),_:1}),p(u,{class:"unit-text ss-m-l-6"},{default:n((()=>[f("张")])),_:1})])),_:1}),p(u,{class:"menu-title ss-m-t-28"},{default:n((()=>[f("优惠券")])),_:1})])),_:1}),p(u,{class:"menu-item ss-flex-col ss-row-center ss-col-center menu-wallet",onClick:i[3]||(i[3]=t=>_(x).$router.go("/pages/user/wallet/money"))},{default:n((()=>[p(c,{class:"item-icon",src:_(x).$url.static("/static/img/shop/user/wallet_icon.png"),mode:"aspectFit"},null,8,["src"]),p(u,{class:"menu-title ss-m-t-30"},{default:n((()=>[f("我的钱包")])),_:1})])),_:1})])),_:1},8,["style"])}}},[["__scopeId","data-v-dd183fae"]]),Ht=X({__name:"s-coupon-card",props:{list:{type:Array,default:()=>[{title:"已领取",value:"0",icon:"/static/img/shop/order/nouse_coupon.png",path:"/pages/coupon/list",type:"geted"},{title:"已使用",value:"0",icon:"/static/img/shop/order/useend_coupon.png",path:"/pages/coupon/list",type:"used"},{title:"已失效",value:"0",icon:"/static/img/shop/order/out_coupon.png",path:"/pages/coupon/list",type:"expired"},{title:"领券中心",value:"0",icon:"/static/img/shop/order/all_coupon.png",path:"/pages/coupon/list",type:"all"}]},data:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(t){const e=t,s=C((()=>{const{bgType:t,bgImg:s,bgColor:a}=e.styles;return{background:"img"===t?`url(${s}) no-repeat top center / 100% 100%`:a}}));return(a,o)=>{const l=k,i=h;return d(),r(i,{class:"ss-coupon-menu-wrap ss-flex ss-col-center",style:y([s.value,{marginLeft:`${t.data.space}px`}])},{default:n((()=>[(d(!0),w(S,null,R(e.list,(t=>(d(),r(i,{class:g(["menu-item ss-flex-col ss-row-center ss-col-center","all"===t.type?"menu-wallet":"ss-flex-1"]),key:t.title,onClick:e=>_(x).$router.go(t.path,{type:t.type})},{default:n((()=>[p(l,{class:"item-icon",src:_(x).$url.static(t.icon),mode:"aspectFit"},null,8,["src"]),p(i,{class:"menu-title ss-m-t-28"},{default:n((()=>[f(m(t.title),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1},8,["style"])}}},[["__scopeId","data-v-702d5d4e"]]),qt={__name:"s-block-item",props:{type:{type:String,default:""},data:{type:Object,default(){}},styles:{type:Object,default(){}}},setup:t=>(e,s)=>{const o=l(i("s-search-block"),a),u=l(i("s-notice-block"),ft),p=l(i("s-menu-button"),mt),g=l(i("s-menu-list"),bt),y=l(i("s-menu-grid"),xt),f=l(i("s-popup-image"),kt),m=l(i("s-float-menu"),Ct),b=l(i("s-image-block"),wt),_=l(i("s-image-banner"),St),x=l(i("s-title-block"),Rt),k=l(i("s-image-cube"),$t),v=l(i("s-video-block"),Tt),C=l(i("s-line-block"),Lt),w=l(i("s-hotzone-block"),It),S=l(i("s-goods-card"),jt),R=l(i("s-goods-shelves"),zt),$=l(i("s-groupon-block"),Ft),T=l(i("s-seckill-block"),Ot),B=l(i("s-point-block"),Pt),L=l(i("s-live-block"),Mt),I=l(i("s-coupon-block"),Dt),j=l(i("s-richtext-block"),Ut),z=l(i("s-user-card"),Et),F=l(i("s-order-card"),Gt),O=l(i("s-wallet-card"),At),P=l(i("s-coupon-card"),Ht),W=h;return d(),r(W,null,{default:n((()=>["SearchBar"===t.type?(d(),r(o,{key:0,data:t.data,styles:t.styles,navbar:!1},null,8,["data","styles"])):c("",!0),"NoticeBar"===t.type?(d(),r(u,{key:1,data:t.data},null,8,["data"])):c("",!0),"MenuSwiper"===t.type?(d(),r(p,{key:2,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"MenuList"===t.type?(d(),r(g,{key:3,data:t.data},null,8,["data"])):c("",!0),"MenuGrid"===t.type?(d(),r(y,{key:4,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"Popover"===t.type?(d(),r(f,{key:5,data:t.data},null,8,["data"])):c("",!0),"FloatingActionButton"===t.type?(d(),r(m,{key:6,data:t.data},null,8,["data"])):c("",!0),"ImageBar"===t.type?(d(),r(b,{key:7,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"Carousel"===t.type?(d(),r(_,{key:8,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"TitleBar"===t.type?(d(),r(x,{key:9,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"MagicCube"===t.type?(d(),r(k,{key:10,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"VideoPlayer"===t.type?(d(),r(v,{key:11,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"Divider"===t.type?(d(),r(C,{key:12,data:t.data},null,8,["data"])):c("",!0),"HotZone"===t.type?(d(),r(w,{key:13,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"ProductCard"===t.type?(d(),r(S,{key:14,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"ProductList"===t.type?(d(),r(R,{key:15,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"PromotionCombination"===t.type?(d(),r($,{key:16,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"PromotionSeckill"===t.type?(d(),r(T,{key:17,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"PromotionPoint"===t.type?(d(),r(B,{key:18,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"MpLive"===t.type?(d(),r(L,{key:19,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"CouponCard"===t.type?(d(),r(I,{key:20,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"PromotionArticle"===t.type?(d(),r(j,{key:21,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"UserCard"===t.type?(d(),r(z,{key:22,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"UserOrder"===t.type?(d(),r(F,{key:23,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"UserWallet"===t.type?(d(),r(O,{key:24,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0),"UserCoupon"===t.type?(d(),r(P,{key:25,data:t.data,styles:t.styles},null,8,["data","styles"])):c("",!0)])),_:1})}},Zt={__name:"s-block",props:{styles:{type:Object,default(){}}},setup(t){const e=t,s=C((()=>{if(e.styles){if("color"===e.styles.bgType)return{background:e.styles.bgColor};if("img"===e.styles.bgType)return{background:`url(${x.$url.cdn(e.styles.bgImage)}) no-repeat top center / 100% auto`}}})),a=C((()=>{if(e.styles)return{marginTop:`${e.styles.marginTop||0}px`,marginBottom:`${e.styles.marginBottom||0}px`,marginLeft:`${e.styles.marginLeft||0}px`,marginRight:`${e.styles.marginRight||0}px`,paddingTop:`${e.styles.paddingTop||0}px`,paddingRight:`${e.styles.paddingRight||0}px`,paddingBottom:`${e.styles.paddingBottom||0}px`,paddingLeft:`${e.styles.paddingLeft||0}px`,borderTopLeftRadius:`${e.styles.borderTopLeftRadius||0}px`,borderTopRightRadius:`${e.styles.borderTopRightRadius||0}px`,borderBottomRightRadius:`${e.styles.borderBottomRightRadius||0}px`,borderBottomLeftRadius:`${e.styles.borderBottomLeftRadius||0}px`,overflow:"hidden"}}));return(t,e)=>{const o=h;return d(),r(o,{style:y([a.value,s.value])},{default:n((()=>[u(t.$slots,"default")])),_:3},8,["style"])}}};export{qt as _,Zt as a};
