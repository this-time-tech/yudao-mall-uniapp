"use strict";const e=require("../../common/vendor.js"),t=require("../store/index.js"),a=require("../hooks/useModal.js"),s=require("../helper/throttle.js");var p={"/pages/index/index":{path:"/pages/index/index",aliasPath:"/",meta:{auth:!1,sync:!0,title:"首页",group:"商城"}},"/pages/index/user":{path:"/pages/index/user",meta:{sync:!0,title:"个人中心",group:"商城"}},"/pages/index/category":{path:"/pages/index/category",meta:{sync:!0,title:"商品分类",group:"商城"}},"/pages/index/cart":{path:"/pages/index/cart",meta:{sync:!0,title:"购物车",group:"商城"}},"/pages/index/login":{path:"/pages/index/login"},"/pages/index/search":{path:"/pages/index/search",meta:{sync:!0,title:"搜索",group:"商城"}},"/pages/index/page":{path:"/pages/index/page",meta:{auth:!1,sync:!0,title:"自定义页面",group:"商城"}},"/pages/goods/index":{path:"/pages/goods/index",meta:{sync:!0,title:"普通商品",group:"商品"}},"/pages/goods/groupon":{path:"/pages/goods/groupon",meta:{sync:!0,title:"拼团商品",group:"商品"}},"/pages/goods/seckill":{path:"/pages/goods/seckill",meta:{sync:!0,title:"秒杀商品",group:"商品"}},"/pages/goods/point":{path:"/pages/goods/point",meta:{sync:!0,title:"积分商品",group:"商品"}},"/pages/goods/list":{path:"/pages/goods/list",meta:{sync:!0,title:"商品列表",group:"商品"}},"/pages/goods/comment/add":{path:"/pages/goods/comment/add",meta:{auth:!0}},"/pages/goods/comment/list":{path:"/pages/goods/comment/list"},"/pages/order/detail":{path:"/pages/order/detail",meta:{auth:!0,title:"订单详情"}},"/pages/order/confirm":{path:"/pages/order/confirm",meta:{auth:!0,title:"确认订单"}},"/pages/order/list":{path:"/pages/order/list",meta:{auth:!0,sync:!0,title:"用户订单",group:"订单中心"}},"/pages/order/aftersale/apply":{path:"/pages/order/aftersale/apply",meta:{auth:!0,title:"申请售后"}},"/pages/order/aftersale/return-delivery":{path:"/pages/order/aftersale/return-delivery",meta:{auth:!0,title:"退货物流"}},"/pages/order/aftersale/list":{path:"/pages/order/aftersale/list",meta:{auth:!0,sync:!0,title:"售后订单",group:"订单中心"}},"/pages/order/aftersale/detail":{path:"/pages/order/aftersale/detail",meta:{auth:!0,title:"售后详情"}},"/pages/order/aftersale/log":{path:"/pages/order/aftersale/log",meta:{auth:!0,title:"售后进度"}},"/pages/order/express/log":{path:"/pages/order/express/log",meta:{auth:!0,title:"物流轨迹"}},"/pages/user/info":{path:"/pages/user/info",meta:{auth:!0,sync:!0,title:"用户信息",group:"用户中心"}},"/pages/user/goods-collect":{path:"/pages/user/goods-collect",meta:{auth:!0,sync:!0,title:"商品收藏",group:"用户中心"}},"/pages/user/goods-log":{path:"/pages/user/goods-log",meta:{auth:!0,sync:!0,title:"浏览记录",group:"用户中心"}},"/pages/user/address/list":{path:"/pages/user/address/list",meta:{auth:!0,sync:!0,title:"地址管理",group:"用户中心"}},"/pages/user/address/edit":{path:"/pages/user/address/edit",meta:{auth:!0,title:"编辑地址"}},"/pages/user/goods_details_store/index":{path:"/pages/user/goods_details_store/index",meta:{auth:!0,sync:!0,title:"地址管理",group:"用户中心"}},"/pages/user/wallet/money":{path:"/pages/user/wallet/money",meta:{auth:!0,sync:!0,title:"用户余额",group:"用户中心"}},"/pages/user/wallet/score":{path:"/pages/user/wallet/score",meta:{auth:!0,sync:!0,title:"用户积分",group:"用户中心"}},"/pages/commission/index":{path:"/pages/commission/index",meta:{auth:!0,sync:!0,title:"分销中心",group:"分销商城"}},"/pages/commission/wallet":{path:"/pages/commission/wallet",meta:{auth:!0,sync:!0,title:"用户佣金",group:"分销中心"}},"/pages/commission/goods":{path:"/pages/commission/goods",meta:{auth:!0,sync:!0,title:"推广商品",group:"分销商城"}},"/pages/commission/order":{path:"/pages/commission/order",meta:{auth:!0,sync:!0,title:"分销订单",group:"分销商城"}},"/pages/commission/team":{path:"/pages/commission/team",meta:{auth:!0,sync:!0,title:"我的团队",group:"分销商城"}},"/pages/commission/promoter":{path:"/pages/commission/promoter",meta:{auth:!0,sync:!0,title:"推广人排行榜",group:"分销商城"}},"/pages/commission/commission-ranking":{path:"/pages/commission/commission-ranking",meta:{auth:!0,sync:!0,title:"佣金排行榜",group:"分销商城"}},"/pages/commission/withdraw":{path:"/pages/commission/withdraw",meta:{auth:!0,sync:!0,title:"申请提现",group:"分销商城"}},"/pages/app/sign":{path:"/pages/app/sign",meta:{auth:!0,sync:!0,title:"签到中心",group:"应用"}},"/pages/public/setting":{path:"/pages/public/setting",meta:{sync:!0,title:"系统设置",group:"通用"}},"/pages/public/richtext":{path:"/pages/public/richtext",meta:{sync:!0,title:"富文本",group:"通用"}},"/pages/public/faq":{path:"/pages/public/faq",meta:{sync:!0,title:"常见问题",group:"通用"}},"/pages/public/error":{path:"/pages/public/error"},"/pages/public/webview":{path:"/pages/public/webview"},"/pages/coupon/list":{path:"/pages/coupon/list",meta:{sync:!0,title:"领券中心",group:"优惠券"}},"/pages/coupon/detail":{path:"/pages/coupon/detail",meta:{auth:!1,sync:!0,title:"优惠券详情",group:"优惠券"}},"/pages/chat/index":{path:"/pages/chat/index",meta:{auth:!0,sync:!0,title:"客服",group:"客服"}},"/pages/pay/index":{path:"/pages/pay/index"},"/pages/pay/result":{path:"/pages/pay/result"},"/pages/pay/recharge":{path:"/pages/pay/recharge",meta:{auth:!0,sync:!0,title:"充值余额",group:"支付"}},"/pages/pay/recharge-log":{path:"/pages/pay/recharge-log",meta:{auth:!0,sync:!0,title:"充值记录",group:"支付"}},"/pages/activity/groupon/detail":{path:"/pages/activity/groupon/detail"},"/pages/activity/groupon/order":{path:"/pages/activity/groupon/order",meta:{auth:!0,sync:!0,title:"拼团订单",group:"营销活动"}},"/pages/activity/index":{path:"/pages/activity/index",meta:{sync:!0,title:"营销商品",group:"营销活动"}},"/pages/activity/groupon/list":{path:"/pages/activity/groupon/list",meta:{sync:!0,title:"拼团活动",group:"营销活动"}},"/pages/activity/seckill/list":{path:"/pages/activity/seckill/list",meta:{sync:!0,title:"秒杀活动",group:"营销活动"}},"/pages/activity/point/list":{path:"/pages/activity/point/list",meta:{sync:!0,title:"积分商城",group:"营销活动"}}},i=["/pages/index/index","/pages/index/cart","/pages/index/user"];const o=(s,o={},r={redirect:!1})=>{var n;let l="",u="",c="";if(e.isString(s)){if(e.startsWith(s,"http"))l="/pages/public/webview",u=`url=${encodeURIComponent(s)}`;else{if(e.startsWith(s,"action:"))return void function(e){if("showShareModal"===e.split(":")[1])a.showShareModal()}(s);[l,u]=s.split("?")}if(!e.isEmpty(o)){let t=g(o);e.isEmpty(u)?u=t:u+="&"+t}}e.isObject(s)&&(l=s.url,e.isNil(s.params)||(u=g(s.params)));const d=p[l];d?!(null==(n=d.meta)?void 0:n.auth)||t.$store("user").isLogin?(c=l,e.isEmpty(u)||(c+=`?${u}`),i.includes(l)?e.index.switchTab({url:c}):r.redirect?e.index.redirectTo({url:c}):e.index.navigateTo({url:c})):a.showAuthModal():console.log(`%c跳转路径参数错误<${l||"EMPTY"}>`,"color:red;background:yellow")};function r(...e){s.throttle((()=>{o(...e)}))}function g(t){if(e.isEmpty(t))return"";let a=[];for(let e in t)a.push(e+"="+t[e]);return a.join("&")}function n(e,t={}){r(e,t,{redirect:!0})}function l(){let e=getCurrentPages();return e[e.length-1]}const u={go:r,back:function(){e.index.navigateBack()},hasHistory:function(){return getCurrentPages().length>1},redirect:n,getCurrentPage:l,getCurrentRoute:function(e=""){let t=l();return t.$page.route=t.route,t.$page.options=t.options,""!==e?t.$page[e]:t.$page},error:function(e,t=""){n("/pages/public/error",{errCode:e,errMsg:t})}};exports.$router=u;
