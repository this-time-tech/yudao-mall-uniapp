"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../validate/form.js"),s=require("../../../hooks/useModal.js"),r=require("../../../api/member/user.js");if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const n={__name:"change-password",setup(n){const a=e.ref(null),l=e.reactive({model:{mobile:"",code:"",password:""},rules:{code:o.code,password:o.password}});async function d(){if(!(await e.unref(a).validate().catch((e=>{console.log("error: ",e)}))))return;const{code:o}=await r.UserApi.updateUserPassword(l.model);0===o&&s.closeAuthModal()}return(o,r)=>({a:e.t(e.unref(s.getSmsTimer)("resetPassword")),b:l.isMobileEnd,c:l.isMobileEnd?1:"",d:e.o((o=>e.unref(s.getSmsCode)("changePassword"))),e:e.o((e=>l.model.code=e)),f:e.p({placeholder:"请输入验证码",type:"number",maxlength:"4",inputBorder:!1,modelValue:l.model.code}),g:e.p({name:"code",label:"验证码"}),h:e.o(d),i:e.o((e=>l.model.password=e)),j:e.p({type:"password",placeholder:"请输入密码",inputBorder:!1,modelValue:l.model.password}),k:e.p({name:"reNewPassword",label:"密码"}),l:e.sr(a,"3f07c832-0",{k:"changePasswordRef"}),m:e.o((e=>l.model=e)),n:e.p({rules:l.rules,validateTrigger:"bind",labelWidth:"140",labelAlign:"center",modelValue:l.model}),o:e.o(((...o)=>e.unref(s.closeAuthModal)&&e.unref(s.closeAuthModal)(...o)))})}},a=e._export_sfc(n,[["__scopeId","data-v-3f07c832"]]);wx.createComponent(a);
