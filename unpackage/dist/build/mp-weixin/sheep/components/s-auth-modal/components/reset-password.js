"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../index.js"),s=require("../../../validate/form.js"),r=require("../../../hooks/useModal.js"),n=require("../../../api/member/user.js");if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const l={__name:"reset-password",setup(l){const i=e.ref(null),d=e.computed((()=>o.sheep.$store("user").isLogin)),a=e.reactive({isMobileEnd:!1,model:{mobile:"",code:"",password:""},rules:{code:s.code,mobile:s.mobile,password:s.password}}),m=async()=>{if(!(await e.unref(i).validate().catch((e=>{console.log("error: ",e)}))))return;const{code:o}=await n.UserApi.resetUserPassword(a.model);0===o&&r.showAuthModal("accountLogin")};return(o,s)=>e.e({a:e.t(e.unref(r.getSmsTimer)("resetPassword")),b:a.isMobileEnd,c:a.isMobileEnd?1:"",d:e.o((o=>e.unref(r.getSmsCode)("resetPassword",a.model.mobile))),e:e.o((e=>a.model.mobile=e)),f:e.p({placeholder:"请输入手机号",type:"number",inputBorder:!1,modelValue:a.model.mobile}),g:e.p({name:"mobile",label:"手机号"}),h:e.o((e=>a.model.code=e)),i:e.p({placeholder:"请输入验证码",type:"number",maxlength:"4",inputBorder:!1,modelValue:a.model.code}),j:e.p({name:"code",label:"验证码"}),k:e.o(m),l:e.o((e=>a.model.password=e)),m:e.p({type:"password",placeholder:"请输入密码",inputBorder:!1,modelValue:a.model.password}),n:e.p({name:"password",label:"密码"}),o:e.sr(i,"35234133-0",{k:"resetPasswordRef"}),p:e.o((e=>a.model=e)),q:e.p({rules:a.rules,validateTrigger:"bind",labelWidth:"140",labelAlign:"center",modelValue:a.model}),r:!d.value},d.value?{}:{s:e.o((o=>e.unref(r.showAuthModal)("accountLogin")))})}},i=e._export_sfc(l,[["__scopeId","data-v-35234133"]]);wx.createComponent(i);
