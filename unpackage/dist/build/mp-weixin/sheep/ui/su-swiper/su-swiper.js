"use strict";const e=require("../../../common/vendor.js"),t=require("../../index.js");if(!Array){e.resolveComponent("su-video")()}Math;const i={__name:"su-swiper",props:{circular:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},interval:{type:Number,default:3e3},duration:{type:Number,default:500},mode:{type:String,default:"default"},imageMode:{type:String,default:"scaleToFill"},list:{type:Array,default:()=>[]},dotStyle:{type:String,default:"long"},dotCur:{type:String,default:"ss-bg-opactity-block"},bg:{type:String,default:"bg-none"},height:{type:Number,default:0},imgHeight:{type:Number,default:0},imgTopRadius:{type:Number,default:0},imgBottomRadius:{type:Number,default:0},isPreview:{type:Boolean,default:!1},seizeHeight:{type:Number,default:200}},setup(i){const r=e.reactive({imgHeight:0,cur:0,moveX:0,videoPlaySataus:!1,heightList:[]}),a=e.reactive({videoRef:{}}),o=i,u=e=>{"touch"!==e.detail.source&&"autoplay"!==e.detail.source||(r.cur=e.detail.current,r.videoPlaySataus=!1,"video"===o.list[r.cur].type&&a.videoRef[`video_${r.cur}`].pausePlay())},l=()=>{if(!o.isPreview)return;let t=e.clone(o.list);t.forEach(((e,i)=>{"video"===e.type&&t.splice(i,1)})),e.index.previewImage({urls:t.length<1?[o.src]:t.reduce(((e,t)=>(e.push(t.src),e)),[]),current:r.cur})},d=e=>{},s=e=>{r.moveX=0},n=e=>{o.list[r.cur].currentTime=e.detail.currentTime},c=e.computed((()=>{let e;return 0!==o.height&&(e=o.height),0===o.height&&(0!==r.imgHeight?e=r.imgHeight:0!==o.seizeHeight&&(e=o.seizeHeight)),{height:e+"rpx"}}));function g(e){if(0===o.height){let t=e.detail.height/e.detail.width*750;r.imgHeight<t&&(r.imgHeight=t)}}return(p,y)=>e.e({a:e.f(o.list,((u,d,s)=>e.e({a:"image"===u.type},"image"===u.type?{b:o.imageMode,c:u.src,d:e.o(g,d)}:{e:e.sr((e=>a.videoRef[`video_${d}`]=e),"e03a1d3b-0-"+s,{f:1}),f:e=>a.videoRef[`video_${d}`]=e,g:e.o(n,d),h:"e03a1d3b-0-"+s,i:e.p({poster:e.unref(t.sheep).$url.cdn(u.poster),src:e.unref(t.sheep).$url.cdn(u.src),index:d,moveX:r.moveX,initialTime:u.currentTime||0,height:i.seizeHeight})},{j:d,k:r.cur==d?1:"",l:e.o((e=>(e=>{"video"===e.type?r.videoPlaySataus=!0:(t.sheep.$router.go(e.url),l())})(u)),d)}))),b:o.circular,c:r.cur,d:o.autoplay&&!r.videoPlaySataus,e:o.interval,f:o.duration,g:e.o(d),h:e.o(s),i:e.s(c.value),j:e.o(u),k:!r.videoPlaySataus},r.videoPlaySataus?{}:e.e({l:"tag"!=o.dotStyle},"tag"!=o.dotStyle?{m:e.f(o.list,((t,i,a)=>({a:i,b:e.n(r.cur==i?"cur":"")}))),n:e.n(o.dotCur),o:e.n(o.dotStyle)}:{},{p:"tag"==o.dotStyle},"tag"==o.dotStyle?{q:e.t(r.cur+1),r:e.t(o.list.length),s:e.n(o.dotCur),t:e.n(o.dotStyle)}:{}),{v:e.n(o.mode),w:e.n(o.bg),x:e.n(o.ui)})}},r=e._export_sfc(i,[["__scopeId","data-v-e03a1d3b"]]);wx.createComponent(r);
