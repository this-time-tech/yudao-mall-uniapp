"use strict";const e=require("../../../common/vendor.js"),o=require("../../../sheep/index.js"),t=require("../../../sheep/api/trade/order.js");if(!Array){(e.resolveComponent("s-goods-item")+e.resolveComponent("uni-rate")+e.resolveComponent("uni-easyinput")+e.resolveComponent("s-uploader")+e.resolveComponent("su-fixed")+e.resolveComponent("s-layout"))()}Math||((()=>"../../../sheep/components/s-goods-item/s-goods-item.js")+(()=>"../../../uni_modules/uni-rate/components/uni-rate/uni-rate.js")+(()=>"../../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../../sheep/components/s-uploader/s-uploader.js")+(()=>"../../../sheep/ui/su-fixed/su-fixed.js")+(()=>"../../../sheep/components/s-layout/s-layout.js"))();const i={__name:"add",setup(i){const s=e.reactive({orderInfo:{},commentList:[],id:null});async function n(){for(const e of s.commentList)await t.OrderApi.createOrderItemComment(e);o.sheep.$router.back()}return e.onLoad((async e=>{if(!e.id)return void o.sheep.$helper.toast("缺少订单信息，请检查");s.id=e.id;const{code:i,data:n}=await t.OrderApi.getOrderDetail(s.id);0===i?(n.items.forEach((e=>{s.commentList.push({anonymous:!1,orderItemId:e.id,descriptionScores:5,benefitScores:5,content:"",picUrls:[]})})),s.orderInfo=n):o.sheep.$helper.toast("无待评价订单")})),(o,t)=>({a:e.f(s.orderInfo.items,((o,t,i)=>({a:"11ccd0b4-1-"+i+",11ccd0b4-0",b:e.p({img:o.picUrl,title:o.spuName,skuText:o.properties.map((e=>e.valueName)).join(" "),price:o.payPrice,num:o.count}),c:"11ccd0b4-2-"+i+",11ccd0b4-0",d:e.o((e=>s.commentList[t].descriptionScores=e),o.id),e:e.p({modelValue:s.commentList[t].descriptionScores}),f:"11ccd0b4-3-"+i+",11ccd0b4-0",g:e.o((e=>s.commentList[t].benefitScores=e),o.id),h:e.p({modelValue:s.commentList[t].benefitScores}),i:"11ccd0b4-4-"+i+",11ccd0b4-0",j:e.o((e=>s.commentList[t].content=e),o.id),k:e.p({inputBorder:!1,type:"textarea",maxlength:"120",autoHeight:!0,placeholder:"宝贝满足你的期待吗？说说你的使用心得，分享给想买的他们吧~",modelValue:s.commentList[t].content}),l:e.o((e=>function(e,o){s.commentList[o].picUrls=e.tempFilePaths}(e,t)),o.id),m:"11ccd0b4-5-"+i+",11ccd0b4-0",n:e.o((e=>s.commentList[t].images=e),o.id),o:e.p({fileMediatype:"image",limit:"9",mode:"grid",imageStyles:{width:"168rpx",height:"168rpx"},url:s.commentList[t].images}),p:e.o((e=>function(e,o){s.commentList[e].anonymous="anonymousChecked"===o.detail.value[0]}(t,e)),o.id),q:o.id}))),b:e.o(n),c:e.p({bottom:!0,placeholder:!0}),d:e.p({title:"评价"})})}},s=e._export_sfc(i,[["__scopeId","data-v-11ccd0b4"]]);wx.createPage(s);
