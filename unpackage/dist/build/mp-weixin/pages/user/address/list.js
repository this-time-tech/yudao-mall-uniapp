"use strict";const e=require("../../../common/vendor.js"),s=require("../../../sheep/index.js"),t=require("../../../sheep/api/system/area.js"),o=require("../../../sheep/api/member/address.js");if(!Array){(e.resolveComponent("s-address-item")+e.resolveComponent("su-fixed")+e.resolveComponent("s-empty")+e.resolveComponent("s-layout"))()}Math||((()=>"../../../sheep/components/s-address-item/s-address-item.js")+(()=>"../../../sheep/ui/su-fixed/su-fixed.js")+(()=>"../../../sheep/components/s-empty/s-empty.js")+(()=>"../../../sheep/components/s-layout/s-layout.js"))();const a={__name:"list",setup(a){const n=e.reactive({list:[],loading:!0,openType:""});function r(){let t={};e.index.chooseAddress({success:o=>{t={consignee:o.userName,mobile:o.telNumber,province_name:o.provinceName,city_name:o.cityName,district_name:o.countyName,address:o.detailInfo,region:"",is_default:!1},e.isEmpty(t)||s.sheep.$router.go("/pages/user/address/edit",{data:JSON.stringify(t)})},fail:e=>{console.log("%cuni.chooseAddress,调用失败","color:green;background:yellow")}})}return e.onLoad((e=>{e.type&&(n.openType=e.type)})),e.onShow((async()=>{n.list=(await o.AddressApi.getAddressList()).data,n.loading=!1})),e.onBeforeMount((()=>{e.index.getStorageSync("areaData")||t.AreaApi.getAreaTree().then((s=>{0===s.code&&e.index.setStorageSync("areaData",s.data)}))})),(t,o)=>e.e({a:n.list.length},n.list.length?{b:e.f(n.list,((t,o,a)=>({a:t.id,b:e.o((o=>{return a=t,void("select"===n.openType&&(e.index.$emit("SELECT_ADDRESS",{addressInfo:a}),s.sheep.$router.back()));var a}),t.id),c:"c0548352-1-"+a+",c0548352-0",d:e.p({hasBorderBottom:!0,item:t})})))}:{},{c:["WechatMiniProgram","WechatOfficialAccount"].includes(e.unref(s.sheep).$platform.name)},["WechatMiniProgram","WechatOfficialAccount"].includes(e.unref(s.sheep).$platform.name)?{d:e.o(r)}:{},{e:e.o((t=>e.unref(s.sheep).$router.go("/pages/user/address/edit"))),f:e.p({bottom:!0,placeholder:!0}),g:0===n.list.length&&!n.loading},0!==n.list.length||n.loading?{}:{h:e.p({text:"暂无收货地址",icon:"/static/data-empty.png"})},{i:e.p({bgStyle:{color:"#FFF"},title:"收货地址"})})}},n=e._export_sfc(a,[["__scopeId","data-v-c0548352"]]);wx.createPage(n);
