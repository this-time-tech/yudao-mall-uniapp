"use strict";const e=require("../../common/vendor.js"),o=require("../../common/assets.js"),r=require("../../sheep/index.js"),t=require("../../sheep/api/trade/brokerage.js"),a=require("../../sheep/hooks/useGoods.js");if(!Array){e.resolveComponent("s-layout")()}Math;const n={__name:"team",setup(n){e.useCssVars((o=>({e26beaee:e.unref(i)})));const s=2*r.sheep.$platform.device.statusBarHeight;e.computed((()=>r.sheep.$store("user").userInfo));const i=r.sheep.$url.css("/static/img/shop/user/withdraw_bg.png");e.onPageScroll((e=>{p.scrollTop=e.scrollTop<=100}));let u=e.ref();const p=e.reactive({summary:{},pagination:{pageNo:1,pageSize:8,list:[],total:0},loadStatus:"",level:1,nickname:e.ref(""),sortKey:"",isAsc:""});function c(){p.pagination.list=[],l()}async function l(){p.loadStatus="loading";let{code:o,data:r}=await t.BrokerageApi.getBrokerageUserChildSummaryPage({pageNo:p.pagination.pageNo,pageSize:p.pagination.pageSize,level:p.level,"sortingField.order":p.isAsc,"sortingField.field":p.sortKey,nickname:p.nickname});0===o&&(p.pagination.list=e.lodash.concat(p.pagination.list,r.list),p.pagination.total=r.total,p.loadStatus=p.pagination.list.length<p.pagination.total?"more":"noMore")}function m(e){p.pagination.list=[],p.level=e+"",l()}function g(e,o){p.pagination.list=[],u=e+o.toUpperCase(),p.isAsc=o,p.sortKey=e,l()}return e.onLoad((async()=>{await l();let{data:e}=await t.BrokerageApi.getBrokerageUserSummary();p.summary=e})),e.onReachBottom((()=>{"noMore"!==p.loadStatus&&(p.pagination.pageNo++,l())})),(t,n)=>e.e({a:e.t(p.summary.firstBrokerageUserCount+p.summary.secondBrokerageUserCount||0),b:e.s({marginTop:"-"+Number(s+88)+"rpx",paddingTop:Number(s+108)+"rpx"}),c:e.t(p.summary.firstBrokerageUserCount||0),d:e.n(1==p.level?"item on":"item"),e:e.o((e=>m(1))),f:e.t(p.summary.secondBrokerageUserCount||0),g:e.n(2==p.level?"item on":"item"),h:e.o((e=>m(2))),i:e.o(c),j:p.nickname,k:e.o((e=>p.nickname=e.detail.value)),l:o._imports_0,m:e.o(c),n:"userCountDESC"===e.unref(u)},"userCountDESC"===e.unref(u)?{o:o._imports_1,p:e.o((e=>g("userCount","asc")))}:"userCountASC"===e.unref(u)?{r:o._imports_2,s:e.o((e=>g("userCount","desc")))}:{t:o._imports_3,v:e.o((e=>g("userCount","desc")))},{q:"userCountASC"===e.unref(u),w:"priceDESC"===e.unref(u)},"priceDESC"===e.unref(u)?{x:o._imports_1,y:e.o((e=>g("price","asc")))}:"priceASC"===e.unref(u)?{A:o._imports_2,B:e.o((e=>g("price","desc")))}:{C:o._imports_3,D:e.o((e=>g("price","desc")))},{z:"priceASC"===e.unref(u),E:"orderCountDESC"===e.unref(u)},"orderCountDESC"===e.unref(u)?{F:o._imports_1,G:e.o((e=>g("orderCount","asc")))}:"orderCountASC"===e.unref(u)?{I:o._imports_2,J:e.o((e=>g("orderCount","desc")))}:{K:o._imports_3,L:e.o((e=>g("orderCount","desc")))},{H:"orderCountASC"===e.unref(u),M:e.f(p.pagination.list,((o,t,n)=>({a:o.avatar,b:e.t(o.nickname),c:e.t(e.unref(r.sheep).$helper.timeFormat(o.brokerageTime,"yyyy-mm-dd hh:MM:ss")),d:e.t(o.brokerageUserCount||0),e:e.t(o.orderCount||0),f:e.t(e.unref(a.fen2yuan)(o.brokeragePrice)||0),g:t}))),N:0===p.pagination.list.length},(p.pagination.list.length,{}),{O:e.n(p.scrollTop?"team-wrap":""),P:e.s(t.__cssVars()),Q:e.p({title:"我的团队",navbar:"inner"})})}},s=e._export_sfc(n,[["__scopeId","data-v-3ba03765"]]);n.__runtimeHooks=1,wx.createPage(s);
